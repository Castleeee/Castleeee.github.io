<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Djangoçš„åŸºç¡€çŸ¥è¯†(Old) | ä¼šèµ°è·¯çš„ä¸‰ç™¾å—</title>
    <meta name="description" content="å¹´è½»äººçš„åšå®¢">
    <link rel="icon" href="/logo1.ico" type="image/x-icon">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.d22626bb.css" as="style"><link rel="preload" href="/assets/js/app.64171550.js" as="script"><link rel="preload" href="/assets/js/57.fbeec51d.js" as="script"><link rel="preload" href="/assets/js/38.34e99c36.js" as="script"><link rel="prefetch" href="/assets/js/10.f30e4bf5.js"><link rel="prefetch" href="/assets/js/100.14a8b555.js"><link rel="prefetch" href="/assets/js/101.9e257240.js"><link rel="prefetch" href="/assets/js/11.c050169c.js"><link rel="prefetch" href="/assets/js/12.9abd0678.js"><link rel="prefetch" href="/assets/js/13.ca763ee5.js"><link rel="prefetch" href="/assets/js/14.69f05fca.js"><link rel="prefetch" href="/assets/js/15.db5225be.js"><link rel="prefetch" href="/assets/js/16.c6de58f6.js"><link rel="prefetch" href="/assets/js/17.a33727a2.js"><link rel="prefetch" href="/assets/js/18.78f0824a.js"><link rel="prefetch" href="/assets/js/19.20a4f3cf.js"><link rel="prefetch" href="/assets/js/20.15fb9aec.js"><link rel="prefetch" href="/assets/js/21.c2410e24.js"><link rel="prefetch" href="/assets/js/22.6423d49a.js"><link rel="prefetch" href="/assets/js/23.1b0b2120.js"><link rel="prefetch" href="/assets/js/24.93132bac.js"><link rel="prefetch" href="/assets/js/25.a334198a.js"><link rel="prefetch" href="/assets/js/26.c1c7aaa3.js"><link rel="prefetch" href="/assets/js/27.2c86a0cd.js"><link rel="prefetch" href="/assets/js/28.a9d5d0ae.js"><link rel="prefetch" href="/assets/js/29.82f2e489.js"><link rel="prefetch" href="/assets/js/3.465cd447.js"><link rel="prefetch" href="/assets/js/30.d0c8250c.js"><link rel="prefetch" href="/assets/js/31.e6286844.js"><link rel="prefetch" href="/assets/js/32.116769da.js"><link rel="prefetch" href="/assets/js/33.38e22b91.js"><link rel="prefetch" href="/assets/js/34.21d15ece.js"><link rel="prefetch" href="/assets/js/35.53517849.js"><link rel="prefetch" href="/assets/js/36.9b848dcf.js"><link rel="prefetch" href="/assets/js/37.bf3574bb.js"><link rel="prefetch" href="/assets/js/39.10a54121.js"><link rel="prefetch" href="/assets/js/4.9d750d27.js"><link rel="prefetch" href="/assets/js/40.0ead9dc2.js"><link rel="prefetch" href="/assets/js/41.16bfab2f.js"><link rel="prefetch" href="/assets/js/42.b0388f8b.js"><link rel="prefetch" href="/assets/js/43.1d51bbcb.js"><link rel="prefetch" href="/assets/js/44.9e15a8ac.js"><link rel="prefetch" href="/assets/js/45.c9a7ee30.js"><link rel="prefetch" href="/assets/js/46.0821d6b3.js"><link rel="prefetch" href="/assets/js/47.fdd4b2c4.js"><link rel="prefetch" href="/assets/js/48.c86a3241.js"><link rel="prefetch" href="/assets/js/49.29d7cdaf.js"><link rel="prefetch" href="/assets/js/5.b5540d72.js"><link rel="prefetch" href="/assets/js/50.88cae993.js"><link rel="prefetch" href="/assets/js/51.39b0672d.js"><link rel="prefetch" href="/assets/js/52.47b9c89c.js"><link rel="prefetch" href="/assets/js/53.561866dc.js"><link rel="prefetch" href="/assets/js/54.44ad8aef.js"><link rel="prefetch" href="/assets/js/55.999cd3f5.js"><link rel="prefetch" href="/assets/js/56.0fc25a14.js"><link rel="prefetch" href="/assets/js/58.c2c3e960.js"><link rel="prefetch" href="/assets/js/59.388b8a2f.js"><link rel="prefetch" href="/assets/js/6.9305fa77.js"><link rel="prefetch" href="/assets/js/60.3bab7106.js"><link rel="prefetch" href="/assets/js/61.fab74e1f.js"><link rel="prefetch" href="/assets/js/62.b8451d9d.js"><link rel="prefetch" href="/assets/js/63.1ea19cc7.js"><link rel="prefetch" href="/assets/js/64.21f37b67.js"><link rel="prefetch" href="/assets/js/65.79da4678.js"><link rel="prefetch" href="/assets/js/66.2276f1ea.js"><link rel="prefetch" href="/assets/js/67.cf3e97e4.js"><link rel="prefetch" href="/assets/js/68.3b9433a6.js"><link rel="prefetch" href="/assets/js/69.a6723b19.js"><link rel="prefetch" href="/assets/js/7.8235c05c.js"><link rel="prefetch" href="/assets/js/70.eff0cc02.js"><link rel="prefetch" href="/assets/js/71.577ad016.js"><link rel="prefetch" href="/assets/js/72.ee1b8084.js"><link rel="prefetch" href="/assets/js/73.ce23853b.js"><link rel="prefetch" href="/assets/js/74.e51d0dc7.js"><link rel="prefetch" href="/assets/js/75.3fbf6e41.js"><link rel="prefetch" href="/assets/js/76.1ad79723.js"><link rel="prefetch" href="/assets/js/77.05aaa2f4.js"><link rel="prefetch" href="/assets/js/78.9e4bf317.js"><link rel="prefetch" href="/assets/js/79.028f9c41.js"><link rel="prefetch" href="/assets/js/8.a4265244.js"><link rel="prefetch" href="/assets/js/80.a83e9fee.js"><link rel="prefetch" href="/assets/js/81.e20ef630.js"><link rel="prefetch" href="/assets/js/82.0a2c28d1.js"><link rel="prefetch" href="/assets/js/83.84f22d3a.js"><link rel="prefetch" href="/assets/js/84.8c0c443d.js"><link rel="prefetch" href="/assets/js/85.1473a2e2.js"><link rel="prefetch" href="/assets/js/86.4683653f.js"><link rel="prefetch" href="/assets/js/87.9507aa61.js"><link rel="prefetch" href="/assets/js/88.77ce595e.js"><link rel="prefetch" href="/assets/js/89.d25806a8.js"><link rel="prefetch" href="/assets/js/9.56b90d44.js"><link rel="prefetch" href="/assets/js/90.231b245f.js"><link rel="prefetch" href="/assets/js/91.cb1ec410.js"><link rel="prefetch" href="/assets/js/92.10cedbd9.js"><link rel="prefetch" href="/assets/js/93.575cc043.js"><link rel="prefetch" href="/assets/js/94.9233e13a.js"><link rel="prefetch" href="/assets/js/95.fafa9bc4.js"><link rel="prefetch" href="/assets/js/96.8b941223.js"><link rel="prefetch" href="/assets/js/97.49080105.js"><link rel="prefetch" href="/assets/js/98.82d1cc72.js"><link rel="prefetch" href="/assets/js/99.d78b0b9a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0cd5f832.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d22626bb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div><header id="navbarWrapper" class="navbar"><div class="sidebar-button"><i class="iconfont reco-menu"></i></div> <a href="/" class="home-link router-link-active"><img src="/head3.png" alt="ä¼šèµ°è·¯çš„ä¸‰ç™¾å—" class="logo"> <span class="site-name">ä¼šèµ°è·¯çš„ä¸‰ç™¾å—</span></a> <div class="links" style="max-width:nullpx;"><div class="side-search-wrapper"><div class="search-box" data-v-1b2e3b29><input aria-label="Search" autocomplete="off" spellcheck="false" value="" data-v-1b2e3b29> <i class="iconfont reco-search" data-v-1b2e3b29></i> <!----></div></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/backEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  åç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/bigData.html" class="nav-link"><i class="iconfont undefined"></i>
  å¤§æ•°æ®
</a></li><li class="dropdown-item"><!----> <a href="/categories/Distributed.html" class="nav-link"><i class="iconfont undefined"></i>
  åˆ†å¸ƒå¼
</a></li><li class="dropdown-item"><!----> <a href="/categories/life.html" class="nav-link"><i class="iconfont undefined"></i>
  æ—¥è®°
</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tags
</a></div><div class="nav-item"><a href="/categories/article.html" class="nav-link"><i class="iconfont reco-up"></i>
  Library
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  about me
</a></div><div class="nav-item"><a href="https://www.jianshu.com/u/04777e91e2ef" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  ç®€ä¹¦
  </a></div><div class="nav-item"><a href="https://github.com/Castleeee" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  </a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><div class="side-search-wrapper"><div class="search-box" data-v-1b2e3b29><input aria-label="Search" autocomplete="off" spellcheck="false" value="" data-v-1b2e3b29> <i class="iconfont reco-search" data-v-1b2e3b29></i> <!----></div></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/backEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  åç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/bigData.html" class="nav-link"><i class="iconfont undefined"></i>
  å¤§æ•°æ®
</a></li><li class="dropdown-item"><!----> <a href="/categories/Distributed.html" class="nav-link"><i class="iconfont undefined"></i>
  åˆ†å¸ƒå¼
</a></li><li class="dropdown-item"><!----> <a href="/categories/life.html" class="nav-link"><i class="iconfont undefined"></i>
  æ—¥è®°
</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tags
</a></div><div class="nav-item"><a href="/categories/article.html" class="nav-link"><i class="iconfont reco-up"></i>
  Library
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  about me
</a></div><div class="nav-item"><a href="https://www.jianshu.com/u/04777e91e2ef" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  ç®€ä¹¦
  </a></div><div class="nav-item"><a href="https://github.com/Castleeee" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  </a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><!----></p> <ul class="sidebar-group-items"><li><a href="/blog/back/python/Django.html#é…ç½®ç¯å¢ƒå’Œide" class="sidebar-link">é…ç½®ç¯å¢ƒå’ŒIDE</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#åˆ›å»ºenv" class="sidebar-link">åˆ›å»ºenv</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#ç¯å¢ƒæ­å»º-åˆ›å»ºå·¥ç¨‹" class="sidebar-link">ç¯å¢ƒæ­å»º&amp;åˆ›å»ºå·¥ç¨‹</a></li></ul></li><li><a href="/blog/back/python/Django.html#djangoåŸºæœ¬ç»“æ„ä»‹ç»" class="sidebar-link">DjangoåŸºæœ¬ç»“æ„ä»‹ç»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#ç‰¹æ€§" class="sidebar-link">ç‰¹æ€§</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#å¸¸ç”¨çš„å‘½ä»¤" class="sidebar-link">å¸¸ç”¨çš„å‘½ä»¤</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#æ–°å»ºä¸€ä¸ªå·¥ç¨‹" class="sidebar-link">æ–°å»ºä¸€ä¸ªå·¥ç¨‹</a></li></ul></li><li><a href="/blog/back/python/Django.html#djangoçš„m-v-cï¼" class="sidebar-link">Djangoçš„M V Cï¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#æ¨¡å‹-m" class="sidebar-link">æ¨¡å‹-M</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#è§†å›¾-url-v" class="sidebar-link">è§†å›¾&amp;url-V</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#è·¯ç”±-ä¸­é—´ä»¶-c" class="sidebar-link">è·¯ç”±&amp;ä¸­é—´ä»¶-C</a></li></ul></li><li><a href="/blog/back/python/Django.html#adminè½¬xadmin" class="sidebar-link">adminè½¬Xadmin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#admin" class="sidebar-link">admin</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#xadmin" class="sidebar-link">Xadmin</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#åµŒå¥—ç®¡ç†" class="sidebar-link">åµŒå¥—ç®¡ç†</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#å­—æ®µåˆ†ç»„ç®¡ç†" class="sidebar-link">å­—æ®µåˆ†ç»„ç®¡ç†</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/Django.html#å…¶ä»–å‡ ä¸ªå°åŠŸèƒ½" class="sidebar-link">å…¶ä»–å‡ ä¸ªå°åŠŸèƒ½</a></li></ul></li><li><a href="/blog/back/python/Django.html#å®‰è£…djangoueditorä½¿ç”¨å¯Œæ–‡æœ¬" class="sidebar-link">å®‰è£…DjangoUeditorä½¿ç”¨å¯Œæ–‡æœ¬</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page" data-v-cdcae5a4> <div class="page-title" data-v-cdcae5a4><h1 data-v-cdcae5a4>Djangoçš„åŸºç¡€çŸ¥è¯†(Old)</h1> <hr data-v-cdcae5a4> <div data-v-2c25cede data-v-cdcae5a4><i class="iconfont reco-account" data-v-2c25cede><span data-v-2c25cede>ä¼šèµ°è·¯çš„ä¸‰ç™¾å—</span></i> <i class="iconfont reco-date" data-v-2c25cede><span data-v-2c25cede>1/1/2019</span></i> <!----> <i class="iconfont reco-tag tags" data-v-2c25cede><span class="tag-item" data-v-2c25cede>
      åç«¯
    </span><span class="tag-item" data-v-2c25cede>
      web
    </span><span class="tag-item" data-v-2c25cede>
      Django
    </span><span class="tag-item" data-v-2c25cede>
      pythonğŸ
    </span><span class="tag-item" data-v-2c25cede>
      æ‰€æœ‰æ–‡ç« 
    </span></i></div></div> <div class="content" data-v-cdcae5a4><div class="danger custom-block"><p class="custom-block-title">å†™çš„å¤ªä¹±å·²åºŸå¼ƒ<br></p> <p>ç§»æ­¥å¤§å‹ç”µè§†è¿ç»­å‰§Django[0]-ç¯å¢ƒé…ç½®</p></div> <h1 id="djangoçš„åŸºæœ¬ç”¨æ³•"><a href="#djangoçš„åŸºæœ¬ç”¨æ³•" aria-hidden="true" class="header-anchor">#</a> Djangoçš„åŸºæœ¬ç”¨æ³•</h1> <h2 id="é…ç½®ç¯å¢ƒå’Œide"><a href="#é…ç½®ç¯å¢ƒå’Œide" aria-hidden="true" class="header-anchor">#</a> é…ç½®ç¯å¢ƒå’ŒIDE</h2> <h3 id="åˆ›å»ºenv"><a href="#åˆ›å»ºenv" aria-hidden="true" class="header-anchor">#</a> åˆ›å»ºenv</h3> <p><em>æˆ‘å–œæ¬¢ç”¨Anaconda</em><br>
conda create -n xxxx python=3.6+/2.7<br>
åˆ›å»ºäº†ä¸€ä¸ªcondaçš„è‡ªå¸¦ç¯å¢ƒ <br>
å¯ä»¥åœ¨Ancondaä¸­æŸ¥çœ‹é‡Œé¢æœ‰å•¥<br>
conda listæŸ¥çœ‹æ‰€æœ‰çš„åŒ…<br>
conda install xx å®‰è£…ä¸€ä¸ªåŒ…<br>
conda uninstall xx å¸è½½ä¸€ä¸ªåŒ…<br>
conda å­˜æ”¾åœ¨Anaconda/envsä¸‹<br>
Linux:  source (de)activate name(è™šæ‹Ÿç¯å¢ƒåç§°)<br>
Windows: (de)activate name(è™šæ‹Ÿç¯å¢ƒåç§°)<br>
AnacondaçœŸçš„å¾ˆè‰¯å¿ƒä¸ç”¨è‡ªå·±è§£å†³åŒ…å†²çªè¯¥æœ‰çš„éƒ½æœ‰è¿˜èƒ½å…¼å®¹pipä¸€å—ç”¨ã€çˆ½åˆ°<br></p> <h3 id="ç¯å¢ƒæ­å»º-åˆ›å»ºå·¥ç¨‹"><a href="#ç¯å¢ƒæ­å»º-åˆ›å»ºå·¥ç¨‹" aria-hidden="true" class="header-anchor">#</a> ç¯å¢ƒæ­å»º&amp;åˆ›å»ºå·¥ç¨‹</h3> <p><em>è¿™é‡Œé»˜è®¤ä½ å·²ç»é…ç½®å¥½pythonç¯å¢ƒäº†</em><br></p> <ul><li>æŠŠdjango/bin/åŠ å…¥ç¯å¢ƒå˜é‡<br></li> <li>cmd ä¸­è¾“å…¥è¿›å…¥åˆ°æƒ³è¦å·¥ç¨‹æ–‡ä»¶å¤¹(æœ€å¥½æ˜¯ç©ºçš„),<em>django-admin startproject name</em><br></li> <li>è¯¥ç›®å½•ä¸‹ä¼šå¤šä¸€ä¸ªæ–‡ä»¶å¤¹å³æ˜¯æˆ‘ä»¬çš„å·¥ç¨‹.æ­¤æ—¶å¯ä»¥ç”¨pycharmæ‰“å¼€é…ç½®ä¸€ä¸‹djangoçš„configuration<br>(æœ€å¥½å•ç‹¬åˆ›å»ºä¸€ä¸ªconda env)<br> <img src="https://upload-images.jianshu.io/upload_images/12620393-c7c9a11932192b4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é€‰æ‹©é…ç½®å¥½çš„condaç¯å¢ƒ"> <img src="https://upload-images.jianshu.io/upload_images/12620393-f71e96ee5210278b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é…ç½®configuration"></li> <li>æ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«çš„æ’¸ä»£ç å•¦<br></li></ul> <h2 id="djangoåŸºæœ¬ç»“æ„ä»‹ç»"><a href="#djangoåŸºæœ¬ç»“æ„ä»‹ç»" aria-hidden="true" class="header-anchor">#</a> DjangoåŸºæœ¬ç»“æ„ä»‹ç»</h2> <h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" aria-hidden="true" class="header-anchor">#</a> ç‰¹æ€§</h3> <p>djangoçµæ´»æ€§æ¯”pyrimidç¨å¾®å·®ä¸€ç‚¹,ä½†æ˜¯ç¡®å®ååˆ†å¿«é€Ÿçš„ä¸€ä¸ªæ¡†æ¶,ç¼–å†™ååˆ†çš„å¿«,è™½ç„¶ä¸å¦‚Flaskå°å·§ä½†æ˜¯èƒ½æ‰¿æ‹…å¾ˆå¤§çš„è´Ÿè½½<img src="https://upload-images.jianshu.io/upload_images/12620393-383636fee043c224.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="djangoçš„åŸºæœ¬è¿‡ç¨‹">
ä¹Ÿæ˜¯ä¸€ä¸ªMVCä½†æ˜¯ç®€åŒ–äº†modelçš„æ“ä½œ,ç›´æ¥ç”¨djangoçš„engineä»£æ›¿äº†sqlè¯­å¥,æ›´å¥½å†™,è‡ªå¸¦äº†adminä»¥åŠå‡çº§ä¹‹åç‚«é…·çš„çš„xadminã€‚<br> <img src="https://upload-images.jianshu.io/upload_images/12620393-5c4ab58f87086c11.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/400" alt="åœ¨è¿™é‡Œå¯ä»¥ç›´æ¥æ‰“å¼€manage.pyæ§åˆ¶å°"></p> <h3 id="å¸¸ç”¨çš„å‘½ä»¤"><a href="#å¸¸ç”¨çš„å‘½ä»¤" aria-hidden="true" class="header-anchor">#</a> å¸¸ç”¨çš„å‘½ä»¤</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#è®°ä¸ä½ä¹Ÿå…ˆçœ‹ä¸€é,ä¼šä¸€ç›´ç”¨</span>
django<span class="token operator">-</span>admin startproject xxx<span class="token comment">#å‰é¢æåˆ°çš„å¼€å§‹ä¸€ä¸ªdjangoçš„é¡¹ç›®cmdè¿›å…¥ç›®å½•ä¹‹å</span>
python manage<span class="token punctuation">.</span>py startapp xxx<span class="token comment">#åˆ›å»ºä¸€ä¸ªxxxçš„app</span>
python manage<span class="token punctuation">.</span>py makemigrations<span class="token comment">#åˆ›å»ºæ›´æ”¹çš„makemigrationsæ–‡ä»¶</span>
python manage<span class="token punctuation">.</span>py migrate<span class="token comment">#åº”ç”¨ä½ çš„æ›´æ”¹åˆ°æ•°æ®åº“</span>
python manage<span class="token punctuation">.</span>py runserver <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token punctuation">:</span><span class="token number">8000</span><span class="token comment">#åœ¨8000ç«¯å£è¿è¡Œä½ çš„ç¨‹åº</span>
python manage<span class="token punctuation">.</span>py shell<span class="token comment">#djangoå‘½ä»¤è¡Œ</span>
python manage<span class="token punctuation">.</span>py flush<span class="token comment">#æ¸…ç©ºè¡¨</span>
python manage<span class="token punctuation">.</span>py createsuperuser<span class="token comment">#åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·å¯ä»¥ç›´æ¥ç™»é™†åå°ï¼Œå¡«å…¥ç”¨æˆ·åå¯†ç é‚®ç®±å¯ä»¥ç©º</span>
python manage<span class="token punctuation">.</span>py dbshell<span class="token comment">#æ•°æ®åº“å‘½ä»¤è¡Œ</span>
python manage<span class="token punctuation">.</span>py changepassword username<span class="token comment">#æ¢å¯†ç </span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">æ³¨æ„</p> <p>åœ¨manage.py Toolsä¸‹å‰é¢çš„python manage.py ä¸ç”¨åŠ </p></div> <h3 id="æ–°å»ºä¸€ä¸ªå·¥ç¨‹"><a href="#æ–°å»ºä¸€ä¸ªå·¥ç¨‹" aria-hidden="true" class="header-anchor">#</a> æ–°å»ºä¸€ä¸ªå·¥ç¨‹</h3> <ol><li>å®‰è£…æ‹“å±•åŒ…ï¼š<br>
DjangoUeditor(æºç å®‰è£…)<br>
xdamin(gitæºç å®‰è£…)<br>
django-cors-headers(è§£å†³è·¨åŸŸ)<br>
djangorestframework(RESTfulæ¡†æ¶)<br>
mysql-client(windows æ‹“å±•ç«™ä¸‹è½½è½®å­)<br>
django-filter
markdown</li> <li>å»ºç«‹ç›®å½•<br> <img src="https://upload-images.jianshu.io/upload_images/12620393-390886d8368630df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/400" alt="ç›®å½•"></li> <li>ä¿®æ”¹settingæ–‡ä»¶</li></ol> <div class="language-python extra-class"><pre class="language-python"><code>sys<span class="token punctuation">.</span>path<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>BASE_DIR<span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>path<span class="token punctuation">.</span>inster<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span><span class="token string">&quot;apps&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>path<span class="token punctuation">.</span>inster<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span><span class="token string">&quot;extra_apps&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#BASE_DIRä¸‹é¢å¢åŠ è¿™ä¸‰æ¡å°†BASE_DIR apps extra_appsæ·»åŠ è¿›æœç´¢è·¯å¾„å»</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token string">&quot;crispy_forms&quot;</span>
    <span class="token string">&quot;xadmin&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;corsheaders&quot;</span>
<span class="token punctuation">]</span>
<span class="token comment">#æ³¨å†Œæ’ä»¶</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>MIDDLEWARE <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token string">'corsheaders.middleware.CorsMiddleware'</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">]</span>
<span class="token comment">#è¦æ”¾åœ¨django.middleware.common.CommonMiddlewareä¹‹å‰,</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>DATABASES <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'ENGINE'</span><span class="token punctuation">:</span> <span class="token string">'django.db.backends.mysql'</span><span class="token punctuation">,</span>
        <span class="token string">'NAME'</span><span class="token punctuation">:</span> <span class="token string">&quot;blog&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;USER&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;1118&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;HOST&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PORT&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;3306&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">#ä¿®æ”¹é»˜è®¤æ•°æ®åº“ä¸ºMysql</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code>LANGUAGE_CODE <span class="token operator">=</span> <span class="token string">'zh-hans'</span>

TIME_ZONE <span class="token operator">=</span> <span class="token string">'Asia/Shanghai'</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
USE_TZ <span class="token operator">=</span> <span class="token boolean">False</span>
<span class="token comment">#ä¿®æ”¹æ—¶åŒº</span>

<span class="token comment">#ä¸‹é¢æ˜¯corsè·¨åŸŸé…ç½®</span>
CORS_ALLOW_CREDENTIALS <span class="token operator">=</span> <span class="token boolean">True</span>
CORS_ORIGIN_ALLOW_ALL <span class="token operator">=</span> <span class="token boolean">True</span>
CORS_ORIGIN_WHITELIST <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">'*'</span>
<span class="token punctuation">)</span>

CORS_ALLOW_METHODS <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">'DELETE'</span><span class="token punctuation">,</span>
    <span class="token string">'GET'</span><span class="token punctuation">,</span>
    <span class="token string">'OPTIONS'</span><span class="token punctuation">,</span>
    <span class="token string">'PATCH'</span><span class="token punctuation">,</span>
    <span class="token string">'POST'</span><span class="token punctuation">,</span>
    <span class="token string">'PUT'</span><span class="token punctuation">,</span>
    <span class="token string">'VIEW'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

CORS_ALLOW_HEADERS <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">'XMLHttpRequest'</span><span class="token punctuation">,</span>
    <span class="token string">'X_FILENAME'</span><span class="token punctuation">,</span>
    <span class="token string">'accept-encoding'</span><span class="token punctuation">,</span>
    <span class="token string">'authorization'</span><span class="token punctuation">,</span>
    <span class="token string">'content-type'</span><span class="token punctuation">,</span>
    <span class="token string">'dnt'</span><span class="token punctuation">,</span>
    <span class="token string">'origin'</span><span class="token punctuation">,</span>
    <span class="token string">'user-agent'</span><span class="token punctuation">,</span>
    <span class="token string">'x-csrftoken'</span><span class="token punctuation">,</span>
    <span class="token string">'x-requested-with'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">è¿™é‡Œæœ‰å‘</p> <p><em>ï¼æ•°æ®åº“ä½¿ç”¨utf8_unicode æ’åºé›†ä½¿ç”¨utf8_general_ci<br>
djangoä¹Ÿæ˜¯é»˜è®¤unicode,content_type='application/json[jsonç±»å‹æ‰åŠ ,å¿…éœ€åŠ ]charset=utf-8'æ‰å¯ä»¥è¿”å›ä¸­æ–‡</em><br> <em>ï¼AUTH_USER_MODEL = &quot;app(AbstractUserä½¿ç”¨è€…).UserProfile&quot;ç»§æ‰¿AbstractUseræ—¶é‡å¤åå­—é”™è¯¯éœ€è¦åœ¨settingä¸­è®¾ç½®</em><br> <em>ï¼å‡ºç°migrateerroræŠŠæ•°æ®åº“å…¨åˆ é™¤ï¼Œé‡æ–°migrateä¸€é</em><br> <em>!å¼€å¤´æ ‡æ˜#-</em>-coding:utf-8-*-,æ‰€æœ‰ä¸­æ–‡å­—ç¬¦ä¸²å‰è¦æœ‰u<br></p></div> <h2 id="djangoçš„m-v-cï¼"><a href="#djangoçš„m-v-cï¼" aria-hidden="true" class="header-anchor">#</a> Djangoçš„M V Cï¼</h2> <h3 id="æ¨¡å‹-m"><a href="#æ¨¡å‹-m" aria-hidden="true" class="header-anchor">#</a> æ¨¡å‹-M</h3> <div class="tip custom-block"><p class="custom-block-title">å­—æ®µç±»å‹</p> <p>CharField<br>
(max_length=n,default=&quot;é»˜è®¤å€¼&quot;,primary_key=True/False,blank=True/False,<br>
null=True/False,verbosename=u&quot;ç®¡ç†ç•Œé¢ä¸­æ˜¾ç¤º&quot;,unique=True/False)<br> <br>
EmailField(verbose_name=u&quot;ç®¡ç†ç•Œé¢æ˜¾ç¤º&quot;)<br> <br>
ImageField(upload_to=&quot;ä¸€ä¸ªåª’ä½“æ–‡ä»¶å¤¹&quot;,default=&quot;é»˜è®¤å¤´åƒ&quot;,max_length=100)<br>
max_lengt=æ—¶è·¯å¾„æœ€å¤§é•¿åº¦)<br> <br></p></div> <div class="warning custom-block"><p class="custom-block-title">class Meta:<br></p> <p>Â Â Â verbose_name=&quot;ç®¡ç†ç•Œé¢æ˜¾ç¤ºç±»çš„ç®¡ç†åç§°&quot;<br>
Â Â Â verbose_name_plural=verbose_name<br>
Â Â Â db_table=&quot;è‡ªå®šä¹‰è¡¨å&quot;<br>
Â Â Â ordering=&quot;é€‰å–ä¸€ä¸ªå­—æ®µç”¨æ¥æ’åºå¯ç”¨+/-&quot;<br>
Â Â Â def__str__(self):<br>
Â Â Â Â Â return self.ç®¡ç†ä¸­æ˜¾ç¤ºçš„å­—æ®µ<br></p></div> <p><img src="https://upload-images.jianshu.io/upload_images/12620393-94b0591c3953054e.png?imageMogr2/auto-orient/strip%7CimageView2/1/w/240" alt="å›¾ç‰‡.png"> <br></p> <div class="tip custom-block"><p class="custom-block-title">æŸ¥è¯¢æ¨¡å‹:</p> <p>æŸ¥è¯¢æ–¹æ³•
model.objects.filter()#è¿‡æ»¤å™¨<br>
model.object.all()[0:x]#ä»0-xçš„åˆ‡ç‰‡,ä¸æ”¯æŒè´Ÿç´¢å¼•<br>
model.objects.all().exists() #åˆ¤æ–­tbä¸­æ˜¯å¦ä¸ºç©º<br>
model.objects.all().count() #æŸ¥è¯¢tbä¸­çš„å¯¹è±¡æ•°é‡<br>
model.objects.all().order_by('-name') #å¯¹tbä¸­çš„å¯¹è±¡æŒ‰ç…§nameå€’åºæŸ¥è¯¢<br>
model.objects.all().reverse() #å€’åºå–å€¼,ä½†éœ€è¦å·²ç»åœ¨modelä¸­è¿›è¡Œäº†æ’åº,å¦åˆ™æ— æ„ä¹‰ã€‚<br></p></div> <div class="warning custom-block"><p class="custom-block-title">è¿‡æ»¤æ¡ä»¶</p> <p>æ¡ä»¶é€‰å–querySetçš„æ—¶å€™ï¼Œfilterè¡¨ç¤º=ï¼Œexcludeè¡¨ç¤º!=ã€‚<br>
querySet.distinct() å»é‡å¤<br>
__exact ç²¾ç¡®ç­‰äº like 'aaa'<br>
__iexact ç²¾ç¡®ç­‰äº å¿½ç•¥å¤§å°å†™ ilike 'aaa'<br>
__contains åŒ…å« like '%aaa%'<br>
__icontains åŒ…å« å¿½ç•¥å¤§å°å†™ ilike '%aaa%'ï¼Œå¯¹sqlite,containsçš„æ•ˆæœç­‰äºicontains<br>
__gt å¤§äº<br>
__gte å¤§äºç­‰äº<br>
__lt å°äº<br>
__lte å°äºç­‰äº<br>
__in å­˜åœ¨äºä¸€ä¸ªlistèŒƒå›´å†…<br>
__startswith ä»¥...å¼€å¤´<br>
__istartswith ä»¥...å¼€å¤´ å¿½ç•¥å¤§å°å†™<br>
__endswith ä»¥...ç»“å°¾<br>
__iendswith ä»¥...ç»“å°¾ï¼Œå¿½ç•¥å¤§å°å†™<br>
__range åœ¨...èŒƒå›´å†…<br>
__year æ—¥æœŸå­—æ®µçš„å¹´ä»½<br>
__month æ—¥æœŸå­—æ®µçš„æœˆä»½<br>
__day æ—¥æœŸå­—æ®µçš„æ—¥<br>
__isnull=True/False<br>
__regex=&quot;^ $&quot;æ­£åˆ™<br></p></div> <div class="tip custom-block"><p class="custom-block-title">é«˜çº§æŸ¥è¯¢<br></p> <p>from django.db.models import Qå¯ä»¥è¿›è¡Œå¤šè¿æ¥æŸ¥è¯¢ç­›é€‰æŸ¥è¯¢å­å¥ç­‰<br>
Q(OS_mark='wd') | Q(OS_mark='wa')å¯ä»¥å’Œå…³é”®å­—æ··ç”¨ä½†<em>Qå¿…é¡»åœ¨å‰é¢</em><br></p></div> <div class="danger custom-block"><p class="custom-block-title">å–å›ç»“æœå’Œæ“ä½œ<br></p> <p>model.values()#è¿”å›å­—å…¸ç»„æˆçš„åˆ—è¡¨<br>
model.values_list()#å…ƒç»„ç»„æˆçš„åˆ—è¡¨æ²¡æœ‰é”®<br>
model.values_list('name','ip')#åªè¿”å›æƒ³è¦å­—æ®µç»„æˆçš„å…ƒç»„çš„åˆ—è¡¨<br>
item=model.objects.get(name='name')#æŸ¥è¯¢å‡ºä¸ºnameçš„ç»“æœä¸€èˆ¬è¿”å›å•ä¸ª<br>
item.key=value#å˜æ›´<br>
item.save()#ä¿å­˜åˆ°æ•°æ®åº“<br>
item.delete()#åˆ é™¤è®°å½•<br>
vm.objects.create(name='name',key='value')#åˆ›å»ºæ–°å¯¹è±¡ï¼Œè°ƒç”¨saveç›´æ¥ä¿å­˜åˆ°æ•°æ®åº“<br>
vm.get_or_create(k=&quot;v&quot;)#è¿”å›ä¸€ä¸ªäºŒå…ƒç»„ï¼Œè‹¥æŸ¥è¯¢åˆ°äº†è¿”å›(ç»“æœ,True)or(None,False)<br></p></div> <h4 id="queryset"><a href="#queryset" aria-hidden="true" class="header-anchor">#</a> QuerySet<br></h4> <p>æŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ˜¯ä¸€ä¸ªQuerySet,æ˜¯ä¸€ä¸ªç»“æœå…ƒç»„ç»„æˆçš„åˆ—è¡¨<br>
order_by(&quot;key&quot;)æŒ‰ç…§keyè¿›è¡Œæ’åºï¼Œå†è¿›è¡Œreverse<br>
å¯ä»¥åˆ‡ç‰‡ä¸æ”¯æŒè´Ÿç´¢å¼•ï¼Œå¯è°ƒç”¨reverse()å°†é¡ºåºå€’è¿‡æ¥<br>
åŒä¸€modelå’Œä¸åŒmodeléƒ½å¯ä»¥å–å¹¶é›†</p> <div class="danger custom-block"><p class="custom-block-title">å°å¿ƒ</p> <p>è®°å¾—åšç¼“å­˜æŸ¥è¯¢ï¼Œé¿å…é‡å¤</p></div> <h3 id="è§†å›¾-url-v"><a href="#è§†å›¾-url-v" aria-hidden="true" class="header-anchor">#</a> è§†å›¾&amp;url-V</h3> <h4 id="url"><a href="#url" aria-hidden="true" class="header-anchor">#</a> URL:</h4> <div class="tip custom-block"><p class="custom-block-title">å¼•å…¥</p> <p>from django.urls import include,path</p></div> <p>includeæŠŠappçš„urlsåŒ…å«è¿›æ¥<br>
ç±»è§†å›¾åœ¨å¼•å…¥çš„æ—¶å€™ï¼Œç›´æ¥ä¼ å…¥ç±»çš„.as_view()æ–¹æ³•<br></p> <h4 id="view"><a href="#view" aria-hidden="true" class="header-anchor">#</a> view:</h4> <p>viewä¸­å¤„ç†Httprequestæœ‰å‡½æ•°è§†å›¾å’Œç±»è§†å›¾<br> <em>å‡½æ•°è§†å›¾</em><br></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">root_page</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨urlä¸­å¼•å…¥</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> <span class="token punctuation">.</span>views <span class="token keyword">import</span> root_page
<span class="token comment">#your class here</span>

urlpatterns<span class="token operator">=</span><span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">r&quot;&quot;</span><span class="token punctuation">,</span>root_page<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p><em>ç±»è§†å›¾</em><br>
ç±»è§†å›¾æ›´åŠ çµæ´»,<br>å¯ä»¥ç»§æ‰¿å¤ç”¨</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>views<span class="token punctuation">.</span>generic <span class="token keyword">import</span> View

<span class="token keyword">class</span> <span class="token class-name">view_class</span><span class="token punctuation">(</span>Viwe<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#æ³¨æ„æ­¤å¤„æ˜¯ä¸ªå…ƒç»„</span>
        <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>request<span class="token punctuation">,</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#æ³¨æ„å…³é”®è¯çš„ä¼ å…¥</span>
                <span class="token keyword">return</span> HttpResponse <span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">def</span> <span class="token function">post</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#postä¸€èˆ¬ä¸éœ€è¦kw,è¦å¯¹è¡¨å•è¿›è¡ŒéªŒè¯,ç”¨modelä¸­çš„form</span>
                <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                <span class="token keyword">return</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment">#é¦–å…ˆè¦åœ¨urlsä¸­å¼•å…¥</span>
urlpatterns<span class="token operator">=</span><span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">r&quot;/view_calss&quot;</span><span class="token punctuation">,</span>view_calss<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">&quot;åå­—,åœ¨Djangoçš„templatesä¸­ä½¿ç”¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="è·¯ç”±-ä¸­é—´ä»¶-c"><a href="#è·¯ç”±-ä¸­é—´ä»¶-c" aria-hidden="true" class="header-anchor">#</a> è·¯ç”±&amp;ä¸­é—´ä»¶-C</h3> <p>é…ç½®è‡ªå®šä¹‰500 404
å…³é—­DEBUGæ¨¡å¼æ— æ³•è®¿é—®staticæ–‡ä»¶éœ€è¦è‡ªå·±é…ç½®STATIC_ROOT
åœ¨å…¨å±€urlä¸­handler404=&quot;users.&quot;</p> <div class="danger custom-block"><p class="custom-block-title">ç•™å‘</p> <p>ç•™å‘ï¼ŒmodelfroméªŒè¯å™¨ï¼Œè·Ÿç€DRFè¿‡ä¸€é
Template</p></div> <h2 id="adminè½¬xadmin"><a href="#adminè½¬xadmin" aria-hidden="true" class="header-anchor">#</a> adminè½¬Xadmin</h2> <h3 id="admin"><a href="#admin" aria-hidden="true" class="header-anchor">#</a> admin</h3> <p>åœ¨æ¯ä¸ªappä¸‹çš„adminä¸­éœ€è¦ç®¡ç†çš„ç±»è¦å¼•å…¥å¹¶æ³¨å†Œ</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> UserProfile<span class="token punctuation">,</span>Banner<span class="token punctuation">,</span>EmailVerifyCode<span class="token comment">#å¼•å…¥ç±»</span>
<span class="token comment"># Register your models here.</span>

<span class="token keyword">class</span> <span class="token class-name">UserProfileAdmin</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>ModelAdmin<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#å®šä¹‰ç®¡ç†ç±»</span>
    <span class="token keyword">pass</span>
admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>UserProfile<span class="token punctuation">,</span>UserProfileAdmin<span class="token punctuation">)</span><span class="token comment">#æ³¨å†Œç®¡ç†ç±»</span>
</code></pre></div><h3 id="xadmin"><a href="#xadmin" aria-hidden="true" class="header-anchor">#</a> Xadmin</h3> <p>æŠŠgit xadminä¸‹çš„åŒ…xadminæ”¾åˆ°extra_appsä¸‹<br></p> <p><img src="https://upload-images.jianshu.io/upload_images/12620393-722177e46ddaaba9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/300" alt="xadmin"><br>xadminéœ€è¦&quot;crispy_forms&quot;æ³¨å†Œè¿›appä¸­<br>
ä½¿ç”¨xadminçš„æ—¶å€™æŠŠåŸå…ˆçš„adminçš„æ“ä½œæ³¨é‡Šï¼Œä¸å†éœ€è¦<br></p> <blockquote><p>urlä¸­å¼•å…¥xadmin<br></p></blockquote> <p><img src="https://upload-images.jianshu.io/upload_images/12620393-f95dca91cbda0bec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/440" alt="é…ç½®url"><br>
æ¥ä¸‹æ¥è®¿é—®adminå°±å¯ä»¥äº†<br> <img src="https://upload-images.jianshu.io/upload_images/12620393-a0b771270230b85b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt="æ³¨å†Œå®Œæ¯•çš„"><br></p> <div class="warning custom-block"><p class="custom-block-title">æ³¨æ„</p> <p>å¤–é”®å­—æ®µè¦å†™æˆ&quot;foreign__keyword&quot;ä¼šå¯¹å¤–é”®çš„å­—æ®µè¿›è¡Œæœç´¢<br></p></div> <h4 id="è‡ªå®šä¹‰ç•Œé¢å’Œæ˜¾ç¤º"><a href="#è‡ªå®šä¹‰ç•Œé¢å’Œæ˜¾ç¤º" aria-hidden="true" class="header-anchor">#</a> è‡ªå®šä¹‰ç•Œé¢å’Œæ˜¾ç¤º</h4> <p>ä¿®æ”¹adminxæ–‡ä»¶</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> xadmin <span class="token keyword">import</span> views

<span class="token comment">#global seeting class</span>
<span class="token keyword">class</span> <span class="token class-name">BaseSetting</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    enable_themes<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token comment">#å¯ç”¨ä¸»é¢˜</span>
    use_bootswatch<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token comment">#bootsä¸»é¢˜è§†å›¾</span>
<span class="token comment">#æ³¨å†Œç®¡ç†è§†å›¾</span>
xadmin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>views<span class="token punctuation">.</span>BaseAdminView<span class="token punctuation">,</span>BaseSetting<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">GlobalSettings</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    site_title<span class="token operator">=</span><span class="token string">&quot;å¹´è½»äººçš„ç®¡ç†ç³»ç»Ÿ&quot;</span>
    <span class="token comment">#å·¦ä¸Šè§’çš„æ ‡å¿—</span>
    site_footer<span class="token operator">=</span><span class="token string">&quot;æˆ‘çš„è®ºå›&quot;</span>
    <span class="token comment">#é¡µè„šæ˜¾ç¤º</span>
    menu_style<span class="token operator">=</span><span class="token string">&quot;accordion&quot;</span>
    <span class="token comment">#æŠ˜å appsç±»</span>
    model_icon <span class="token operator">=</span> <span class="token string">&quot;fa fa-clone&quot;</span>
    <span class="token comment">#æ˜¾ç¤ºä»€ä¹ˆå›¾æ ‡</span>
    ordering<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span>
    <span class="token comment">#æŒ‰ç…§indexä»å°åˆ°å¤§æ’åº</span>
    readonly_fields<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;add_time&quot;</span><span class="token punctuation">,</span><span class="token punctuation">]</span>
    <span class="token comment">#è®¾ç½®åªè¯»ä¸å¯ä¿®æ”¹å­—æ®µ</span>
    exclude<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;add_time&quot;</span><span class="token punctuation">]</span>
    <span class="token comment">#ä¸æ˜¾ç¤ºæŸäº›å­—æ®µ</span>
<span class="token comment">#æ³¨å†Œç®¡ç†è§†å›¾</span>
xadmin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>views<span class="token punctuation">.</span>CommAdminView<span class="token punctuation">,</span>GlobalSettings<span class="token punctuation">)</span>
</code></pre></div><p>åœ¨appä¸‹çš„appsé‡Œæ·»åŠ å‘½åverbose_name=u&quot;è‡ªå·±å®šä¹‰çš„åç§°&quot;<br>
åœ¨__init__.pyé‡Œæ·»åŠ  default_app_config=&quot;users.apps.UserConfig&quot;#appåç§°.apps.åç§°çš„Config<br>
å›¾æ ‡<a href="https://fontawesome.com/">ä¸‹è½½4.7ç‰ˆæœ¬</a>ï¼ˆxadminæš‚æ—¶ä¸æ”¯æŒ5ä»¥ä¸Šï¼‰ï¼Œè§£å‹csså’Œfontè¦†ç›–æ–‡ä»¶<br>
ç›®å½•åœ¨'.\extra_apps\xadmin\static\xadmin\vendor\font-awesome'ä¸‹<br>
å»è¿™ä¸ªç½‘ç«™æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„iconï¼Œæƒ³è¦å“ªä¸ªç›´æ¥å¤åˆ¶cssç»™model_icon<br> <img src="https://upload-images.jianshu.io/upload_images/12620393-19db3a524cf6bdd7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt="å›¾ç‰‡.png"><br>
è¿™ä¸ªç±»åœ¨åšå¤–é”®çš„æ—¶å€™è®¾ç½®relfield_style=&quot;fk-ajax&quot;å³å¯åœ¨å…¶å®ƒè¡¨ä¸­ä½œä¸ºajaxå’Œè”æƒ³æŸ¥è¯¢ä¸å†ä½¿ç”¨é»˜è®¤ä¸‹æ‹‰å¼<br></p> <h3 id="åµŒå¥—ç®¡ç†"><a href="#åµŒå¥—ç®¡ç†" aria-hidden="true" class="header-anchor">#</a> åµŒå¥—ç®¡ç†</h3> <p>å®šä¹‰ç±»</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">BannerInline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
model<span class="token operator">=</span>Banner<span class="token comment">#æƒ³è¦è¢«åµŒå¥—çš„model</span>
extra<span class="token operator">=</span><span class="token number">0</span>
<span class="token comment">#åœ¨ç®¡ç†classä¸­æ³¨å†Œ</span>
inlines<span class="token operator">=</span><span class="token punctuation">[</span>BannerInline<span class="token punctuation">]</span><span class="token comment">#åˆ—è¡¨å¼çš„ï¼Œå¯ä»¥æœ‰å¤šä¸ªinline</span>
</code></pre></div><h3 id="å­—æ®µåˆ†ç»„ç®¡ç†"><a href="#å­—æ®µåˆ†ç»„ç®¡ç†" aria-hidden="true" class="header-anchor">#</a> å­—æ®µåˆ†ç»„ç®¡ç†</h3> <p>åœ¨modelä¸­åˆ›å»ºæ–°çš„ç±»ç»§æ‰¿æƒ³è¦è¢«ç®¡ç†çš„ç±»
<img src="https://upload-images.jianshu.io/upload_images/12620393-75b7d5c4eb9e949e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/840" alt="model"><br>
åœ¨xadminä¸­å¼•å…¥åˆ›å»ºadminç±»é‡è½½querysetæ–¹æ³•,ç»‘å®šæ–°çš„ç®¡ç†ç±»
<img src="https://upload-images.jianshu.io/upload_images/12620393-c04de43dac670615.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="adminx"><br>
å†é‡è½½querysetæ–¹æ³•ï¼Œä¼šä½¿ç¬¦åˆæ¡ä»¶çš„ç•™ä¸‹</p> <h3 id="å…¶ä»–å‡ ä¸ªå°åŠŸèƒ½"><a href="#å…¶ä»–å‡ ä¸ªå°åŠŸèƒ½" aria-hidden="true" class="header-anchor">#</a> å…¶ä»–å‡ ä¸ªå°åŠŸèƒ½</h3> <ul><li><p>åˆ—è¡¨é¡µç›´æ¥ç¼–è¾‘
list_editable=[&quot;å­—æ®µå&quot;]</p></li> <li><p>å°†å‡½æ•°ç›´æ¥ä½œä¸ºå­—æ®µï¼Œå¥æŸ„ä¼ å…¥å­—æ®µåˆ—è¡¨å°†å‡½æ•°çš„è¿”å›å€¼æ˜¾ç¤º
å¯ä»¥ç›´æ¥åœ¨adminxä¸­å®šä¹‰
å®šä¹‰æè¿°å’Œæ’åº function(å‡½æ•°å¥æŸ„).short_description=&quot;xxx&quot;åå°æ˜¾ç¤ºåç§°å°±æ˜¯è‡ªå·±å®šä¹‰çš„</p></li> <li><p>å®šæ—¶åˆ·æ–°
refresh_times=[3,2]
åœ¨é…ç½®äº†çš„Adminç±»ä¸­æ‰ä¼šæ˜¾ç¤º
ä¼šå¤šå‡ºä¸€ä¸ªé€‰é¡¹é€‰æ‹©ä¸¤ç§’æˆ–è€…ä¸‰ç§’åˆ·æ–°ä¸€æ¬¡</p></li> <li><p>å¤–é“¾æ¥ä½œä¸ºå­—æ®µ
åœ¨modelä¸­å®šä¹‰(ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸èƒ½è·³è½¬ä¸è¿‡é“¾æ¥å€’æ˜¯ä¸ªçœŸé“¾æ¥  ï¼š\</p></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">outer_connect</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">from</span> django<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>safestring <span class="token keyword">import</span> mark_safe
    <span class="token keyword">return</span> mark_safe<span class="token punctuation">(</span><span class="token string">&quot;&lt;a href='http://www.baidu.com'&gt;è·³è½¬&lt;/a&gt;&quot;</span><span class="token punctuation">)</span>
outer_connect<span class="token punctuation">.</span>short_description<span class="token operator">=</span><span class="token string">&quot;åå°å­—æ®µåç§°&quot;</span>
</code></pre></div><h2 id="å®‰è£…djangoueditorä½¿ç”¨å¯Œæ–‡æœ¬"><a href="#å®‰è£…djangoueditorä½¿ç”¨å¯Œæ–‡æœ¬" aria-hidden="true" class="header-anchor">#</a> å®‰è£…DjangoUeditorä½¿ç”¨å¯Œæ–‡æœ¬</h2> <p>python3ä¸èƒ½ç›´æ¥pipç‰ˆæœ¬ä¸å…¼å®¹ï¼Œå»gitæŠŠ<a href="https://github.com/twz915/DjangoUeditor3/">æºç åŒ…</a>ä¸‹è½½å›å®¶<br>
è§£å‹ä¹‹åå‘½ä»¤è¡Œcdè¿›ç›®å½•æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼Œpython setup.py installç§’å®‰å®Œã€‚<br>
é…ç½®urlï¼š'ueditor/',include(&quot;DjangoUeditor.urls&quot;)'<br>
ä½¿ç”¨from DjangoUeditor.models import UEditorFieldåœ¨modelä¸­å¼•å…¥<br>
å¯ä»¥ä»£æ›¿TextFieldä¸è¿‡éœ€è¦é¢å¤–é…ç½®å‚æ•°æˆ‘åªåˆ—å‡ºå¸¸ç”¨çš„ï¼Œå®ƒæ˜¯ç»§æ‰¿è‡ªTextFieldçš„<br></p> <div class="tip custom-block"><p class="custom-block-title">UEditorFieldçš„å±æ€§</p> <p>Content=UEditorField(verbose_name='å†…å®¹',#åˆ«å<br>
width=600, height=300,#ç¼–è¾‘å™¨å®½é«˜<br>
imagePath=&quot;å›¾ç‰‡/ueditor/&quot;, <br>
filePath=&quot;æ–‡ä»¶è·¯å¾„/ueditor/&quot;, #è·¯å¾„å¦‚æœä¸åŠ å‰é¢çš„' / 'é»˜è®¤media_rootä¸ºç›¸å¯¹è·¯å¾„<br>
defalut=&quot;&quot;,#é»˜è®¤ä¸ºç©ºmigrateæ‰ä¸ä¼šå‡ºé”™)<br></p></div> <div class="danger custom-block"><p class="custom-block-title">ç•™å‘</p> <p>å¯¼å…¥xlsx json csv æ’ä»¶çš„å¼€å‘+å¤–é”®è‡ªå¢ä¼¼æ‡‚éæ‡‚ç•™å‘å…ˆå¡«å…¶ä»–çš„ 404 500 é¡µé¢</p></div> <div id="vcomments"></div></div> <!----> <!----> <!----> <div class="page-edit" data-v-cdcae5a4><!----> <div class="last-updated" data-v-cdcae5a4><span class="prefix" data-v-cdcae5a4>Last Updated: </span> <span class="time" data-v-cdcae5a4>3/9/2020, 8:33:00 AM</span></div></div> <div class="page-nav" data-v-cdcae5a4><p class="inner" data-v-cdcae5a4><span class="prev" data-v-cdcae5a4>
        â†
        <a href="/blog/back/python/flask.html" class="prev" data-v-cdcae5a4>
          Flask
        </a></span> <!----></p></div> </div> <div class="valine-wrapper" data-v-63f18ac0><div id="valine" style="display:;" data-v-63f18ac0></div></div> <!----> <!----> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-41016a8b data-v-41016a8b><i class="iconfont reco-up" data-v-41016a8b></i></div></div></div></div>
    <script src="/assets/js/app.64171550.js" defer></script><script src="/assets/js/57.fbeec51d.js" defer></script><script src="/assets/js/38.34e99c36.js" defer></script>
  </body>
</html>
