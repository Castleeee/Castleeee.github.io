<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Flask | ä¼šèµ°è·¯çš„ä¸‰ç™¾å—</title>
    <meta name="description" content="å¹´è½»äººçš„åšå®¢">
    <link rel="icon" href="/logo1.ico" type="image/x-icon">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.d22626bb.css" as="style"><link rel="preload" href="/assets/js/app.64171550.js" as="script"><link rel="preload" href="/assets/js/17.a33727a2.js" as="script"><link rel="preload" href="/assets/js/38.34e99c36.js" as="script"><link rel="prefetch" href="/assets/js/10.f30e4bf5.js"><link rel="prefetch" href="/assets/js/100.14a8b555.js"><link rel="prefetch" href="/assets/js/101.9e257240.js"><link rel="prefetch" href="/assets/js/11.c050169c.js"><link rel="prefetch" href="/assets/js/12.9abd0678.js"><link rel="prefetch" href="/assets/js/13.ca763ee5.js"><link rel="prefetch" href="/assets/js/14.69f05fca.js"><link rel="prefetch" href="/assets/js/15.db5225be.js"><link rel="prefetch" href="/assets/js/16.c6de58f6.js"><link rel="prefetch" href="/assets/js/18.78f0824a.js"><link rel="prefetch" href="/assets/js/19.20a4f3cf.js"><link rel="prefetch" href="/assets/js/20.15fb9aec.js"><link rel="prefetch" href="/assets/js/21.c2410e24.js"><link rel="prefetch" href="/assets/js/22.6423d49a.js"><link rel="prefetch" href="/assets/js/23.1b0b2120.js"><link rel="prefetch" href="/assets/js/24.93132bac.js"><link rel="prefetch" href="/assets/js/25.a334198a.js"><link rel="prefetch" href="/assets/js/26.c1c7aaa3.js"><link rel="prefetch" href="/assets/js/27.2c86a0cd.js"><link rel="prefetch" href="/assets/js/28.a9d5d0ae.js"><link rel="prefetch" href="/assets/js/29.82f2e489.js"><link rel="prefetch" href="/assets/js/3.465cd447.js"><link rel="prefetch" href="/assets/js/30.d0c8250c.js"><link rel="prefetch" href="/assets/js/31.e6286844.js"><link rel="prefetch" href="/assets/js/32.116769da.js"><link rel="prefetch" href="/assets/js/33.38e22b91.js"><link rel="prefetch" href="/assets/js/34.21d15ece.js"><link rel="prefetch" href="/assets/js/35.53517849.js"><link rel="prefetch" href="/assets/js/36.9b848dcf.js"><link rel="prefetch" href="/assets/js/37.bf3574bb.js"><link rel="prefetch" href="/assets/js/39.10a54121.js"><link rel="prefetch" href="/assets/js/4.9d750d27.js"><link rel="prefetch" href="/assets/js/40.0ead9dc2.js"><link rel="prefetch" href="/assets/js/41.16bfab2f.js"><link rel="prefetch" href="/assets/js/42.b0388f8b.js"><link rel="prefetch" href="/assets/js/43.1d51bbcb.js"><link rel="prefetch" href="/assets/js/44.9e15a8ac.js"><link rel="prefetch" href="/assets/js/45.c9a7ee30.js"><link rel="prefetch" href="/assets/js/46.0821d6b3.js"><link rel="prefetch" href="/assets/js/47.fdd4b2c4.js"><link rel="prefetch" href="/assets/js/48.c86a3241.js"><link rel="prefetch" href="/assets/js/49.29d7cdaf.js"><link rel="prefetch" href="/assets/js/5.b5540d72.js"><link rel="prefetch" href="/assets/js/50.88cae993.js"><link rel="prefetch" href="/assets/js/51.39b0672d.js"><link rel="prefetch" href="/assets/js/52.47b9c89c.js"><link rel="prefetch" href="/assets/js/53.561866dc.js"><link rel="prefetch" href="/assets/js/54.44ad8aef.js"><link rel="prefetch" href="/assets/js/55.999cd3f5.js"><link rel="prefetch" href="/assets/js/56.0fc25a14.js"><link rel="prefetch" href="/assets/js/57.fbeec51d.js"><link rel="prefetch" href="/assets/js/58.c2c3e960.js"><link rel="prefetch" href="/assets/js/59.388b8a2f.js"><link rel="prefetch" href="/assets/js/6.9305fa77.js"><link rel="prefetch" href="/assets/js/60.3bab7106.js"><link rel="prefetch" href="/assets/js/61.fab74e1f.js"><link rel="prefetch" href="/assets/js/62.b8451d9d.js"><link rel="prefetch" href="/assets/js/63.1ea19cc7.js"><link rel="prefetch" href="/assets/js/64.21f37b67.js"><link rel="prefetch" href="/assets/js/65.79da4678.js"><link rel="prefetch" href="/assets/js/66.2276f1ea.js"><link rel="prefetch" href="/assets/js/67.cf3e97e4.js"><link rel="prefetch" href="/assets/js/68.3b9433a6.js"><link rel="prefetch" href="/assets/js/69.a6723b19.js"><link rel="prefetch" href="/assets/js/7.8235c05c.js"><link rel="prefetch" href="/assets/js/70.eff0cc02.js"><link rel="prefetch" href="/assets/js/71.577ad016.js"><link rel="prefetch" href="/assets/js/72.ee1b8084.js"><link rel="prefetch" href="/assets/js/73.ce23853b.js"><link rel="prefetch" href="/assets/js/74.e51d0dc7.js"><link rel="prefetch" href="/assets/js/75.3fbf6e41.js"><link rel="prefetch" href="/assets/js/76.1ad79723.js"><link rel="prefetch" href="/assets/js/77.05aaa2f4.js"><link rel="prefetch" href="/assets/js/78.9e4bf317.js"><link rel="prefetch" href="/assets/js/79.028f9c41.js"><link rel="prefetch" href="/assets/js/8.a4265244.js"><link rel="prefetch" href="/assets/js/80.a83e9fee.js"><link rel="prefetch" href="/assets/js/81.e20ef630.js"><link rel="prefetch" href="/assets/js/82.0a2c28d1.js"><link rel="prefetch" href="/assets/js/83.84f22d3a.js"><link rel="prefetch" href="/assets/js/84.8c0c443d.js"><link rel="prefetch" href="/assets/js/85.1473a2e2.js"><link rel="prefetch" href="/assets/js/86.4683653f.js"><link rel="prefetch" href="/assets/js/87.9507aa61.js"><link rel="prefetch" href="/assets/js/88.77ce595e.js"><link rel="prefetch" href="/assets/js/89.d25806a8.js"><link rel="prefetch" href="/assets/js/9.56b90d44.js"><link rel="prefetch" href="/assets/js/90.231b245f.js"><link rel="prefetch" href="/assets/js/91.cb1ec410.js"><link rel="prefetch" href="/assets/js/92.10cedbd9.js"><link rel="prefetch" href="/assets/js/93.575cc043.js"><link rel="prefetch" href="/assets/js/94.9233e13a.js"><link rel="prefetch" href="/assets/js/95.fafa9bc4.js"><link rel="prefetch" href="/assets/js/96.8b941223.js"><link rel="prefetch" href="/assets/js/97.49080105.js"><link rel="prefetch" href="/assets/js/98.82d1cc72.js"><link rel="prefetch" href="/assets/js/99.d78b0b9a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0cd5f832.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d22626bb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div><header id="navbarWrapper" class="navbar"><div class="sidebar-button"><i class="iconfont reco-menu"></i></div> <a href="/" class="home-link router-link-active"><img src="/head3.png" alt="ä¼šèµ°è·¯çš„ä¸‰ç™¾å—" class="logo"> <span class="site-name">ä¼šèµ°è·¯çš„ä¸‰ç™¾å—</span></a> <div class="links" style="max-width:nullpx;"><div class="side-search-wrapper"><div class="search-box" data-v-1b2e3b29><input aria-label="Search" autocomplete="off" spellcheck="false" value="" data-v-1b2e3b29> <i class="iconfont reco-search" data-v-1b2e3b29></i> <!----></div></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/backEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  åç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/bigData.html" class="nav-link"><i class="iconfont undefined"></i>
  å¤§æ•°æ®
</a></li><li class="dropdown-item"><!----> <a href="/categories/Distributed.html" class="nav-link"><i class="iconfont undefined"></i>
  åˆ†å¸ƒå¼
</a></li><li class="dropdown-item"><!----> <a href="/categories/life.html" class="nav-link"><i class="iconfont undefined"></i>
  æ—¥è®°
</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tags
</a></div><div class="nav-item"><a href="/categories/article.html" class="nav-link"><i class="iconfont reco-up"></i>
  Library
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  about me
</a></div><div class="nav-item"><a href="https://www.jianshu.com/u/04777e91e2ef" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  ç®€ä¹¦
  </a></div><div class="nav-item"><a href="https://github.com/Castleeee" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  </a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><div class="side-search-wrapper"><div class="search-box" data-v-1b2e3b29><input aria-label="Search" autocomplete="off" spellcheck="false" value="" data-v-1b2e3b29> <i class="iconfont reco-search" data-v-1b2e3b29></i> <!----></div></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/backEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  åç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/categories/bigData.html" class="nav-link"><i class="iconfont undefined"></i>
  å¤§æ•°æ®
</a></li><li class="dropdown-item"><!----> <a href="/categories/Distributed.html" class="nav-link"><i class="iconfont undefined"></i>
  åˆ†å¸ƒå¼
</a></li><li class="dropdown-item"><!----> <a href="/categories/life.html" class="nav-link"><i class="iconfont undefined"></i>
  æ—¥è®°
</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tags
</a></div><div class="nav-item"><a href="/categories/article.html" class="nav-link"><i class="iconfont reco-up"></i>
  Library
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  about me
</a></div><div class="nav-item"><a href="https://www.jianshu.com/u/04777e91e2ef" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  ç®€ä¹¦
  </a></div><div class="nav-item"><a href="https://github.com/Castleeee" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  </a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><!----></p> <ul class="sidebar-group-items"><li><a href="/blog/back/python/flask.html#é¡¹ç›®ç»“æ„" class="sidebar-link">é¡¹ç›®ç»“æ„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#flask-scriptæ‹†åˆ†" class="sidebar-link">Flask-scriptæ‹†åˆ†</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#ç‹¬ç«‹viewå’Œæ‹“å±•sql" class="sidebar-link">ç‹¬ç«‹viewå’Œæ‹“å±•SQL</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#ç®¡ç†ç¯å¢ƒ" class="sidebar-link">ç®¡ç†ç¯å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#migrateæ•°æ®åº“è¡¨è¿ç§»" class="sidebar-link">Migrateæ•°æ®åº“è¡¨è¿ç§»</a></li></ul></li><li><a href="/blog/back/python/flask.html#è·¯ç”±" class="sidebar-link">è·¯ç”±</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#è·å–å‚æ•°" class="sidebar-link">è·å–å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#é‡å®šå‘å’Œrequest" class="sidebar-link">é‡å®šå‘å’Œrequest</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#å“åº”response" class="sidebar-link">å“åº”Response</a></li><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#ä¼šè¯" class="sidebar-link">ä¼šè¯</a></li></ul></li><li><a href="/blog/back/python/flask.html#jinja2æ¨¡æ¿" class="sidebar-link">jinja2æ¨¡æ¿</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/back/python/flask.html#flask-bootstrap" class="sidebar-link">flask-bootstrap</a></li></ul></li><li><a href="/blog/back/python/flask.html#model" class="sidebar-link">Model</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/back/python/flask.html#å‚è€ƒå¼•ç”¨" class="sidebar-link">å‚è€ƒå¼•ç”¨</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page" data-v-cdcae5a4> <div class="page-title" data-v-cdcae5a4><h1 data-v-cdcae5a4>Flask</h1> <hr data-v-cdcae5a4> <div data-v-2c25cede data-v-cdcae5a4><i class="iconfont reco-account" data-v-2c25cede><span data-v-2c25cede>ä¼šèµ°è·¯çš„ä¸‰ç™¾å—</span></i> <i class="iconfont reco-date" data-v-2c25cede><span data-v-2c25cede>3/10/2019</span></i> <!----> <i class="iconfont reco-tag tags" data-v-2c25cede><span class="tag-item" data-v-2c25cede>
      åç«¯
    </span><span class="tag-item" data-v-2c25cede>
      web
    </span><span class="tag-item" data-v-2c25cede>
      Flask
    </span><span class="tag-item" data-v-2c25cede>
      pythonğŸ
    </span><span class="tag-item" data-v-2c25cede>
      æ‰€æœ‰æ–‡ç« 
    </span></i></div></div> <div class="content" data-v-cdcae5a4><p><font color="#53abe2" size="5">å‰è¨€:</font><br>
å­¦ä¹ flaskç”¨æ¥å¼€å‘ä¸€äº›å°çš„å¿«é€Ÿçš„åªæœ‰å‡ ä¸ªæ¥å£çš„ä¸œè¥¿ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥æ‰©å……è‡ªå·±çš„æŠ€æœ¯æ ˆï¼Œæˆ‘ä¸ä¼šæ·±æŒ–åŸç†æŒç»­å­¦flaskï¼Œç¼–ç¨‹æ‰³æ‰‹èƒ½ç”¨å°±è¡Œï¼Œå› æ­¤ä¹Ÿä¸ä¼šè®°çš„å¾ˆè¯¦ç»†ã€‚jinja2é™¤å¤–ï¼Œå› ä¸ºè¿™ä¸ªä¸œè¥¿å¯ä»¥ç›´æ¥åœ¨Djangoé‡Œä»£æ›¿DjangoåŸå…ˆçš„æ¨¡æ¿ï¼Œä¸€æ¬¡å­¦ä¹ ï¼Œåˆ°å¤„ä½¿ç”¨ã€‚Djangoä½œä¸ºä¸»åŠ›çš„å•æœºæ¡†æ¶ï¼Œå¤§çš„webè¿˜å¾—ç”¨javaï¼Œæ²¡å•¥è¦æ±‚å°±ç”¨Djangoï¼Œodooçœ‹æƒ…å†µå­¦ä¸å­¦ã€‚ä¸»è¦è¿˜æ˜¯æƒ³å­¦ä¹ å¤§æ•°æ®æ–¹å‘çš„ä¸œè¥¿ï¼Œæœ‰æœºä¼šææçŸ¥è¯†å›¾è°±å’Œè½¯ä»¶å·¥ç¨‹ç†è®ºï¼Œç²¾åŠ›é›†ä¸­åœ¨æ•°æ®å±‚ä¸Šã€‚<br>
æˆ‘æœé›†çš„åƒå³°ç¬”è®° <a href="https://flaskdoc.ooowl.fun">https://flaskdoc.ooowl.fun</a> æˆ‘ç›´æ¥æŒ‚è¿™å„¿äº†v.1.0.2ã€‚æœ‰å…´è¶£çš„å¯ä»¥ç›´æ¥<a href="https://pan.baidu.com/s/1tfOdUCxlDAleDtTlhpUsDw">æ‹¿å»ç”¨</a>ï¼Œå¯†ç <code>1xid</code></p> <h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" aria-hidden="true" class="header-anchor">#</a> é¡¹ç›®ç»“æ„</h2> <p>hello world ç¨‹åºè¯¦è§£</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask <span class="token comment"># å¼•å…¥ä¸»ç¨‹åº</span>

app<span class="token operator">=</span>Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span> <span class="token comment"># ç”Ÿæˆå¯¹è±¡å¹¶ä»¥å‚æ•°å½¢å¼è·å¾—å½“å‰ç›®å½•</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token comment"># è§„å®šè·¯ç”±</span>
<span class="token keyword">def</span> <span class="token function">hello_world</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># å¤„ç†å‡½æ•°</span>
    <span class="token keyword">return</span> <span class="token string">'hello world'</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>debug <span class="token operator">=</span> <span class="token boolean">False</span> <span class="token comment"># ç¦æ­¢debugæ¨¡å¼ </span>
    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> debug<span class="token operator">=</span>Boolean<span class="token punctuation">,</span>threaded<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>processes<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># è¿è¡Œ,å¤šçº¿ç¨‹è¿›ç¨‹</span>
</code></pre></div><p>è¿”å›å€¼å¯ä»¥ç›´æ¥å†™html,ä¸è¿‡ä¸æ¨èä½ è¿™æ ·åšå› ä¸ºå¾ˆè ¢.<br>
Debugæ¨¡å¼åªæœ‰åœ¨developç¯å¢ƒæ‰èƒ½ä½¿ç”¨,é»˜è®¤åº”è¯¥æ˜¯develop,å¦‚æœä¸æ˜¯,åœ¨ä½ çš„ç¯å¢ƒå˜é‡é‡Œé¢æ·»åŠ &quot;FLASK_ENV&quot;.<br>
Debugå¯ä»¥<code>app.debug=Bool</code> or <code>app.run(debug=False/True)</code> or ç¯å¢ƒå˜é‡&quot;FLASK_DEBUG&quot;.æˆ‘çš„ç°åœ¨å¥½åƒåªæœ‰ç¯å¢ƒå˜é‡æ‰ç®¡ç”¨,ä¸çŸ¥é“ä¸ºå•¥.</p> <div class="tip custom-block"><p class="custom-block-title">Linuxç¯å¢ƒå˜é‡</p> <ul><li>ç³»ç»Ÿçº§
<ul><li><code>/etc/envirtonment</code></li> <li><code>/etc/profile</code></li></ul></li> <li>ç”¨æˆ·çº§:<code>~/.bashrc</code></li> <li>ä¸´æ—¶çº§:<code>åœ¨çª—å£ä¸­ç›´æ¥export</code><br>
ä¾æ¬¡ç”Ÿæ•ˆé¡ºåºè¦†ç›–,windowså¯ä»¥ç›´æ¥åœ¨pycharmä¸­è®¾ç½®</li></ul></div> <div class="language- extra-class"><pre class="language-text"><code> * Serving Flask app &quot;app.py&quot; (lazy loading)
 * Environment: development #è¿™é‡Œæ˜¾ç¤ºæ˜¯ä¸æ˜¯ç”Ÿäº§ç¯å¢ƒ
 * Debug mode: on # è¿™é‡Œæ˜¾ç¤ºæ˜¯å¦æ˜¯è°ƒè¯•æ¨¡å¼
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 235-170-085 # è¿™æ˜¯pin
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
</code></pre></div><p>flaskå¯ä»¥ç›´æ¥åœ¨ç½‘é¡µæ§åˆ¶å°æ§åˆ¶è°ƒè¯•,ä½†æ˜¯éœ€è¦è¾“å…¥pinç <br> <br>
åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šå¾ˆå°çš„é€»è¾‘éƒ½èƒ½å¤Ÿè§£å†³äº†,ä½†æ˜¯å¦‚æœæ‹“å±•é‚£å°±ä¸å¥½åŠ,æ•´ä¸ªä»£ç è€¦åˆåœ¨ä¸€ä¸ªæ–‡ä»¶.</p> <h3 id="flask-scriptæ‹†åˆ†"><a href="#flask-scriptæ‹†åˆ†" aria-hidden="true" class="header-anchor">#</a> Flask-scriptæ‹†åˆ†</h3> <p>ç”¨è¿™ä¸ªå¯ä»¥æŠŠappæ‹†åˆ†,æ¸æ¸çš„ä»ä¸€ä¸ªå¾®å‹æ–‡ä»¶å˜æˆäº†django.<br>
é¦–å…ˆpipå®‰è£…è¿™ä¸ªæ‹“
å±•,<a href="https://flask-script.readthedocs.io/en/latest/">å®˜ç½‘</a></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask
<span class="token keyword">from</span> flask_script <span class="token keyword">import</span> Manager

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
@app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token comment"># è§„å®šè·¯ç”±</span>
<span class="token keyword">def</span> <span class="token function">hello_world</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># å¤„ç†å‡½æ•°</span>
    <span class="token keyword">return</span> <span class="token string">'hello world'</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment">#app.run() # è¿è¡Œ</span>
    manager<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>æ–‡ä»¶åæ”¹åä¸ºmanage.py,ä½¿ç”¨cmdä¸­python manage.py runserver å¯djangoä¸€æ ·<br>
å‚æ•°å¦‚ä¸‹</p> <blockquote><p>-?, --help  show this help message and exitM<br>
-h HOST, --host HOST æŒ‡å®šä¸»æœºM<br>
--threaded æ˜¯å¦å¯ç”¨å¤šçº¿ç¨‹M<br>
--processes PROCESSES æ˜¯å¦å¯ç”¨å¤šè¿›ç¨‹ M<br>
--passthrough-errors å¿½ç•¥é”™è¯¯ä¸æŠ¥å‘ŠM<br>
-d, --debug   è°ƒè¯•æ¨¡å¼  enable the Werkzeug debugger (DO NOT use in production code)M<br>
-D, --no-debug  ä¸è°ƒè¯•æ¨¡å¼  disable the Werkzeug debuggerM<br>
-r, --reload è‡ªåŠ¨é‡æ–°åŠ è½½ monitor Python files for changes (not 100% safe for production use)M<br>
-R, --no-reload       do not monitor Python files for changesM<br>
--ssl-crt SSL_CRT     Path to ssl certificateM<br>
--ssl-key SSL_KEY     Path to ssl keyM<br></p></blockquote> <h3 id="ç‹¬ç«‹viewå’Œæ‹“å±•sql"><a href="#ç‹¬ç«‹viewå’Œæ‹“å±•sql" aria-hidden="true" class="header-anchor">#</a> ç‹¬ç«‹viewå’Œæ‹“å±•SQL</h3> <p>å®‰è£…<code>flask-blueprint</code>,<code>flask_sqlalchemy</code>,æŠŠviewå’Œæ‹“å±•éƒ½ç‹¬ç«‹å‡ºå»,æ–¹ä¾¿ç®¡ç†
æ‹†åˆ†viewçš„åŸºæœ¬æ€è·¯æ˜¯
æ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ç»„viewï¼Œç„¶ååœ¨æ¯ä¸€ä¸ªview.pyæ–‡ä»¶é‡Œé¢åˆå§‹åŒ–ä¸€ä¸ªblueprint</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Blueprint

first<span class="token operator">=</span> Blueprint<span class="token punctuation">(</span><span class="token string">&quot;first&quot;</span><span class="token punctuation">,</span>__name__<span class="token punctuation">)</span>
@first<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">&quot;æˆ‘æ˜¯ä¸»é¡µ&quot;</span>
</code></pre></div><p>åœ¨viewsçš„__init__é‡Œå¼•å…¥å…¶ä»–æ–‡ä»¶çš„blueprintï¼Œå£°æ˜å‡½æ•°init_viewï¼Œç„¶åå‡½æ•°æ¥æ”¶appï¼Œæ³¨å†Œblueprint</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> <span class="token punctuation">.</span>first <span class="token keyword">import</span> first
<span class="token keyword">from</span> <span class="token punctuation">.</span>second <span class="token keyword">import</span> second

<span class="token keyword">def</span> <span class="token function">init_view</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>first<span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>second<span class="token punctuation">)</span>
</code></pre></div><p>Appä¸­åŒ…å«views(æ–‡ä»¶å¤¹)ï¼Œmodelsï¼Œå…ˆæŠŠè¿™ä¸‰ä¸ªå¼•å…¥ï¼Œextã€‚åœ¨Appçš„__init__ä¸­ä¸»è¦ä»»åŠ¡æ˜¯ç”Ÿæˆappï¼Œå¼•å…¥viewçš„init_viewï¼Œextçš„init_extã€‚</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask
<span class="token keyword">from</span> App<span class="token punctuation">.</span>views <span class="token keyword">import</span> init_view
<span class="token keyword">from</span> App<span class="token punctuation">.</span>ext <span class="token keyword">import</span> init_ext
<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    app<span class="token operator">=</span>Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

    app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">&quot;SQLALCHEMY_DATABASE_URI&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;sqlite:///sqlite.db&quot;</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">&quot;SQLALCHEMY_TRACK_MODIFICATIONS&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">False</span>
    init_view<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    init_ext<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    <span class="token keyword">return</span> app
</code></pre></div><p>extçš„æ€è·¯ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œç”¨å‡½æ•°æ¥æ”¶appåˆå§‹åŒ–ï¼Œå› ä¸ºæ•´ä¸ªappæ˜¯ä»¥ä¸€ä¸ªå¯¹è±¡çš„å½¢å¼ä¼ é€’çš„</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#import your model here</span>
<span class="token keyword">from</span> flask_sqlalchemy <span class="token keyword">import</span> SQLAlchemy
<span class="token comment">#your class&amp;function here</span>
models<span class="token operator">=</span>SQLAlchemy<span class="token punctuation">(</span><span class="token punctuation">)</span>
migrate<span class="token operator">=</span>Migrate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å®‰è£…migrateåä½¿ç”¨</span>
<span class="token keyword">def</span> <span class="token function">init_ext</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">:</span>
    models<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    migrate<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">,</span>models<span class="token punctuation">)</span><span class="token comment"># å®‰è£…migrateåä½¿ç”¨</span>
</code></pre></div><p>æ•°æ®åº“urlå†™æ³•<code>æ•°æ®åº“+é©±åŠ¨://ç”¨æˆ·å:å¯†ç @ä¸»æœº:ç«¯å£/å…·ä½“å“ªä¸€ä¸ªåº“</code><br>
æœ€ååœ¨<code>manage.py</code>é‡Œé¢å¼•å…¥è¿™ä¸ªappï¼Œç„¶åè¿è¡Œå°±å¯ä»¥äº†</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> flask_script <span class="token keyword">import</span> Manager

<span class="token keyword">from</span> App <span class="token keyword">import</span> create_app

app <span class="token operator">=</span> create_app<span class="token punctuation">(</span><span class="token punctuation">)</span>

manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span>app<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment">#App.run() # è¿è¡Œ</span>
    manager<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>ç»„åå·¥ç¨‹ç»“æ„å›¾
</p><div align="center"><img src="/assets/img/Snipaste_2019-11-20_16-50-47.cfe07a21.png" style="height: 350px"></div><p></p> <h3 id="ç®¡ç†ç¯å¢ƒ"><a href="#ç®¡ç†ç¯å¢ƒ" aria-hidden="true" class="header-anchor">#</a> ç®¡ç†ç¯å¢ƒ</h3> <p>å»ºç«‹<code>settings.py</code>,æˆ–è€…ç›´æ¥æ”¹iniä¸ºpy
æµ‹è¯•ï¼Œå¼€å‘ï¼Œæ¼”ç¤ºï¼Œç”Ÿäº§å››ä¸ªç¯å¢ƒ,ä¼ å…¥å¯¹è±¡çš„æ ¼å¼æ˜¯å›ºå®šçš„,è®°ä½ä»¥åå°±è¿™ä¹ˆå†™,æ¨¡ä»¿djangoçš„é…ç½®.
</p><details><summary><B><I style="cursor:pointer;color:#0e5870;">Click to See More Code</I></B></summary><p></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">get_db_url</span><span class="token punctuation">(</span>dbinfo<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#å°†é…ç½®ç»„åˆæˆurl</span>
    engine <span class="token operator">=</span> dbinfo<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;ENGINE&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">&quot;sqlite&quot;</span>
    driver <span class="token operator">=</span> dbinfo<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;DRIVER&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">&quot;sqlite&quot;</span>
    user <span class="token operator">=</span> dbinfo<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;USER&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">&quot;&quot;</span>
    password <span class="token operator">=</span> dbinfo<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">&quot;&quot;</span>
    host <span class="token operator">=</span> dbinfo<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;HOST&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">&quot;&quot;</span>
    port <span class="token operator">=</span> dbinfo<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;PORT&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">&quot;&quot;</span>
    table <span class="token operator">=</span> dbinfo<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;TABLE&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">&quot;&quot;</span>

    <span class="token keyword">return</span> <span class="token string">&quot;{}+{}://{}:{}@{}:{}/{}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>engine<span class="token punctuation">,</span> driver<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">,</span>host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> table<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">:</span>
    DEBUG <span class="token operator">=</span> <span class="token boolean">False</span>
    TESTING <span class="token operator">=</span> <span class="token boolean">False</span>
    SQLALCHEMY_TRACK_MODIFICATIONS<span class="token operator">=</span><span class="token boolean">False</span>

<span class="token keyword">class</span> <span class="token class-name">DevConfig</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    DEBUG <span class="token operator">=</span> <span class="token boolean">True</span>
    dbinfo<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">&quot;ENGINE&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;DRIVER&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;pymysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;USER&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;1118&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;HOST&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mysql.ooowl.fun&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PORT&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;3306&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TABLE&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;flaskStudy&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    SQLALCHEMY_DATABASE_URI<span class="token operator">=</span>get_db_url<span class="token punctuation">(</span>dbinfo<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">TestConfig</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    DEBUG <span class="token operator">=</span> <span class="token boolean">True</span>
    dbinfo<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">&quot;ENGINE&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;DRIVER&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;pymysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;USER&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;1118&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;HOST&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mysql.ooowl.fun&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PORT&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;3306&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TABLE&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;flaskStudy&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    SQLALCHEMY_DATABASE_URI<span class="token operator">=</span>get_db_url<span class="token punctuation">(</span>dbinfo<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">StageConfig</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    DEBUG <span class="token operator">=</span> <span class="token boolean">True</span>
    dbinfo <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;ENGINE&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;mysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;DRIVER&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;pymysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;USER&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1118&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;HOST&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;mysql.ooowl.fun&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PORT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;3306&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TABLE&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;flaskStudy&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    SQLALCHEMY_DATABASE_URI <span class="token operator">=</span> get_db_url<span class="token punctuation">(</span>dbinfo<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">ProductConfig</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    DEBUG <span class="token operator">=</span> <span class="token boolean">True</span>
    dbinfo<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">&quot;ENGINE&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;DRIVER&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;pymysql&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;USER&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PASSWORD&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;1118&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;HOST&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mysql.ooowl.fun&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;PORT&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;3306&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TABLE&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;flaskStudy&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    SQLALCHEMY_DATABASE_URI<span class="token operator">=</span>get_db_url<span class="token punctuation">(</span>dbinfo<span class="token punctuation">)</span>

<span class="token comment">#åŒ…è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä¾¿äºmanageå¼•å…¥</span>
envs<span class="token operator">=</span><span class="token punctuation">{</span>
<span class="token string">&quot;dev&quot;</span><span class="token punctuation">:</span>DevConfig<span class="token punctuation">,</span>
<span class="token string">&quot;test&quot;</span><span class="token punctuation">:</span>TestConfig<span class="token punctuation">,</span>
<span class="token string">&quot;stage&quot;</span><span class="token punctuation">:</span>StageConfig<span class="token punctuation">,</span>
<span class="token string">&quot;prod&quot;</span><span class="token punctuation">:</span>ProductConfig<span class="token punctuation">,</span>
<span class="token string">&quot;default&quot;</span><span class="token punctuation">:</span>DevConfig
<span class="token punctuation">}</span>
</code></pre></div></details> <p>åœ¨Appçš„initä¸­<code>app.config.from_object(envs.get(&quot;dev&quot;))#ç›¸å½“äºå­—å…¸ï¼Œæ‹¿åˆ°é‡Œé¢çš„å¯¹è±¡</code></p> <h3 id="migrateæ•°æ®åº“è¡¨è¿ç§»"><a href="#migrateæ•°æ®åº“è¡¨è¿ç§»" aria-hidden="true" class="header-anchor">#</a> Migrateæ•°æ®åº“è¡¨è¿ç§»</h3> <p><code>pip install flask-Migrate</code><br>
åœ¨extä¸­æ·»åŠ <code>migrate=Migrate()</code> <code>migrate.init_app(app,models)</code>ä¸Šé¢æœ‰.<br>
åœ¨manage.pyä¸­æ·»åŠ <code>manager.add_command(&quot;db&quot;,MigrateCommand)</code>å°‘å•¥å¼•å…¥å•¥</p> <div class="language-py extra-class"><pre class="language-py"><code>è¿™é‡Œæ˜¯ä»¥åæ‹¿ç¬”ç”»ç»“æ„å›¾çš„åœ°æ–¹
</code></pre></div><p>flaskå¯ä»¥é€šè¿‡å„ç§æ’ä»¶æ‹“å±•åŠŸèƒ½,ä½ å¯ä»¥æŠŠå¥¹å˜å¾—å’Œdjangoä¸€æ ·,ä¹Ÿå¯ä»¥ä¸€ä¸ªæ–‡ä»¶æ­å»ºå¾ˆå°çš„æœåŠ¡,çœŸæ­£å¤§å°å¯å˜è½»é‡çº§,æƒ³æ‹†æˆä»€ä¹ˆè§„æ¨¡éƒ½è¡Œ.
é€šå¸¸æ˜¯ init,ç”Ÿæˆpythonæ–‡ä»¶,upgradeç”Ÿæˆsqlçš„migrateè¡¨,migrateç”Ÿæˆæ•°æ®åº“</p> <h2 id="è·¯ç”±"><a href="#è·¯ç”±" aria-hidden="true" class="header-anchor">#</a> è·¯ç”±</h2> <h3 id="è·å–å‚æ•°"><a href="#è·å–å‚æ•°" aria-hidden="true" class="header-anchor">#</a> è·å–å‚æ•°</h3> <p><strong>é™å®šæ–¹æ³•</strong><br> <code>@app.route('/demo2', methods=['GET','POST','DELETE','PUT','HEAD','Options'])</code> <strong>å‚æ•°</strong>æœ‰
</p><div align="center"><p></p> <table><thead><tr><th style="text-align:left">Type</th> <th style="text-align:center">example</th></tr></thead> <tbody><tr><td style="text-align:left">&lt;string:para&gt;</td> <td style="text-align:center">é»˜è®¤æ¥æ”¶æ²¡æœ‰æ–œæ çš„,å¦‚æœä½ çš„urlæœ‰&quot;/&quot;,é‚£ä½ çš„è®¿é—®åœ°å€ä¹Ÿè¦å¸¦,å¦åˆ™ä¼šæŠ¥é”™</td></tr> <tr><td style="text-align:left">&lt;int:para&gt;</td> <td style="text-align:center">æ•´å‹</td></tr> <tr><td style="text-align:left">&lt;float:para&gt;</td> <td style="text-align:center">æµ®ç‚¹å‹</td></tr> <tr><td style="text-align:left">&lt;path:para&gt;</td> <td style="text-align:center">æ¥æ”¶è·¯å¾„,å¯æ¥æ”¶æ–œçº¿.å¦‚æœä½ urlå¸¦äº†æ–œçº¿,é‚£ä¹ˆè®¿é—®åœ°å€æœ€åçš„æ–œçº¿å°±ä¼šè¢«å¿½ç•¥</td></tr> <tr><td style="text-align:left">&lt;uuid:para&gt;</td> <td style="text-align:center">åªæ¥å—uuidå­—ç¬¦ä¸²</td></tr> <tr><td style="text-align:left">&lt;any(a,b):para&gt;</td> <td style="text-align:center">å¯ä»¥åŒæ—¶æŒ‡å®šå¤šè·¯å¾„,è®¿é—®a,béƒ½å¯ä»¥ä½¿ç”¨å¤„ç†å‡½æ•°,é»˜è®¤string</td></tr></tbody></table></div> <p>è‡ªå¸¦converter,é»˜è®¤ä¸ºstring<br>
å¯ä»¥å åŠ ,ä¸€ä¸ªå‡½æ•°ä½¿ç”¨å¤šä¸ªè£…é¥°å™¨</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@first<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/number/&lt;string:xxx&gt;&quot;</span><span class="token punctuation">)</span>
@first<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/path/&lt;path:xxx&gt;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">a</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> xxx
</code></pre></div><h3 id="é‡å®šå‘å’Œrequest"><a href="#é‡å®šå‘å’Œrequest" aria-hidden="true" class="header-anchor">#</a> é‡å®šå‘å’Œrequest</h3> <p>ç¡¬ç¼–ç </p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@first<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/redirect/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">redirectx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span><span class="token string">&quot;/path/é˜¿æ–¯å¸èŠ¬&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>å‡½æ•°å¸¦å‚æ•°åå‘è§£æ</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@first<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/redirect/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">redirectx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'first.a'</span><span class="token punctuation">,</span>xxx <span class="token operator">=</span> <span class="token string">&quot;äº‹å®ä¸Š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>requestå¯¹è±¡ç”±flaskè‡ªå·±ç”Ÿæˆ(éœ€è¦å¼•å…¥),æºå¸¦äº†å„ç§å„æ ·çš„ä¿¡æ¯,çœ‹ä¸æ‡‚çš„å»è¡¥HTTPçš„çŸ¥è¯†</p> <div align="center"><img src="/assets/img/Snipaste_2019-11-19_18-01-557.50dc2828.png" style="height: 450px"></div> <p>å¸¸ç”¨å‚æ•°</p> <div align="center"><table><thead><tr><th style="text-align:center">å±æ€§</th> <th style="text-align:center">è¯´æ˜</th> <th style="text-align:center">ç±»å‹</th></tr></thead> <tbody><tr><td style="text-align:center">data</td> <td style="text-align:center">è®°å½•è¯·æ±‚çš„æ•°æ®ï¼Œå¹¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²,æ¯”å¦‚json,xml</td> <td style="text-align:center">*</td></tr> <tr><td style="text-align:center">form</td> <td style="text-align:center">è®°å½•è¯·æ±‚ä¸­çš„è¡¨å•æ•°æ®</td> <td style="text-align:center">MultiDict</td></tr> <tr><td style="text-align:center">args(request.args.get(&quot;city&quot;))</td> <td style="text-align:center">è·å–è¯·æ±‚ä¸­çš„æŸ¥è¯¢å‚æ•°(?city=&quot;x&quot;)</td> <td style="text-align:center">MultiDict</td></tr> <tr><td style="text-align:center">cookies</td> <td style="text-align:center">è®°å½•è¯·æ±‚ä¸­çš„cookieä¿¡æ¯</td> <td style="text-align:center">Dict</td></tr> <tr><td style="text-align:center">headers</td> <td style="text-align:center">è®°å½•è¯·æ±‚ä¸­çš„æŠ¥æ–‡å¤´</td> <td style="text-align:center">EnvironHeaders</td></tr> <tr><td style="text-align:center">method</td> <td style="text-align:center">è®°å½•è¯·æ±‚ä½¿ç”¨çš„HTTPæ–¹æ³•</td> <td style="text-align:center">GET/POSTç­‰</td></tr> <tr><td style="text-align:center">url</td> <td style="text-align:center">è®°å½•è¯·æ±‚çš„URLåœ°å€</td> <td style="text-align:center">string</td></tr> <tr><td style="text-align:center">base_url</td> <td style="text-align:center">å»æ‰GETå‚æ•°çš„URL</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">host_url</td> <td style="text-align:center">åªæœ‰ä¸»æœºå’Œç«¯å£å·çš„URL</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">remote_addr</td> <td style="text-align:center">è¯·æ±‚çš„å®¢æˆ·ç«¯åœ°å€</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">files</td> <td style="text-align:center">è®°å½•è¯·æ±‚ä¸Šä¼ çš„æ–‡ä»¶</td> <td style="text-align:center">*</td></tr></tbody></table></div> <h3 id="å“åº”response"><a href="#å“åº”response" aria-hidden="true" class="header-anchor">#</a> å“åº”Response</h3> <ul><li><code>return &quot;xxx&quot;,çŠ¶æ€ç </code>ç›´æ¥è¿”å›å“åº”å­—ç¬¦ä¸²</li> <li><code>return render_template(&quot;testfile.html&quot;)</code>ç›´æ¥æ¸²æŸ“html</li> <li><code>return make_response(&quot; &lt;h1&gt;sdsadasd&lt;/h1&gt;&quot;)</code>è°ƒç”¨å‡½æ•°æ„å»º</li> <li><code>return Response()</code>è‡ªå·±æ„å»º,debugå»çœ‹å…·ä½“å‚æ•°</li> <li><code>abort(404)/abort(Response(&quot;xxx&quot;))</code>è¿”å›<strong>é”™è¯¯</strong> å“åº”ç å¹¶ç»ˆæ­¢å“åº”</li> <li><code>return redirect(url_for('first.a',xxx = &quot;äº‹å®ä¸Š&quot;))</code> å‡½æ•°å¸¦å‚åå‘è§£æ</li></ul> <p>å¯ä»¥ä½¿ç”¨è£…é¥°å™¨ç›´æ¥æ‹¦æˆªé”™è¯¯å“åº”,æœ€å¸¸ç”¨çš„æ˜¯5xxå’Œ4xxçš„</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@first<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/request/&lt;string:paramas&gt;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">show_request</span><span class="token punctuation">(</span>paramas<span class="token punctuation">)</span><span class="token punctuation">:</span>
    a<span class="token operator">=</span>request
    <span class="token keyword">print</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>host<span class="token punctuation">)</span>
    abort<span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Response<span class="token punctuation">(</span><span class="token punctuation">)</span>

@first<span class="token punctuation">.</span>errorhandler<span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">handle_401</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span><span class="token builtin">type</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">&quot;what,you're wrong&quot;</span>
</code></pre></div><p>blueprintçš„å¤„ç†æœºåˆ¶å’ŒåŸç”Ÿçš„flaskä¸å¤§ä¸€æ ·,åŸç”Ÿä¹Ÿæœ‰è¦ç”¨åŸç”Ÿåœ°å»æŸ¥</p> <h3 id="ä¼šè¯"><a href="#ä¼šè¯" aria-hidden="true" class="header-anchor">#</a> ä¼šè¯</h3> <p>session cookie æŒä¹…åŒ–<br>
éœ€è¦ä¸€ä¸ªåŠ å¯†Keyï¼Œåœ¨settings.py-&gt;Configç±»ä¸­æ·»åŠ <code>SECRET_KEY=&quot;mykey&quot;</code>ç”¨ä½œæ··æ·†</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@second<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/login/&quot;</span><span class="token punctuation">,</span>methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">login_action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method<span class="token operator">==</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">&quot;loginpage.html&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> request<span class="token punctuation">.</span>method<span class="token operator">==</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">:</span>
        username<span class="token operator">=</span>request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span>
        response<span class="token operator">=</span>Response<span class="token punctuation">(</span><span class="token string">&quot;ç™»é™†æˆåŠŸ%s&quot;</span> <span class="token operator">%</span>username<span class="token punctuation">)</span>
        response<span class="token punctuation">.</span>set_cookie<span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token comment">#ä½¿ç”¨cookie</span>
        session<span class="token punctuation">[</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span>username<span class="token comment">#ä½¿ç”¨session</span>
        <span class="token keyword">return</span> response

@second<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/my/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    username<span class="token operator">=</span>request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token comment">#è·å–cookie</span>
    username<span class="token operator">=</span>session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token comment">#è·å–session</span>
    <span class="token keyword">return</span> <span class="token string">&quot;biss %s&quot;</span><span class="token operator">%</span>username
</code></pre></div><p>å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–ï¼Œè¿›è¡Œäº†base64ï¼Œè¿›è¡Œäº†zlibå‹ç¼©ï¼Œä¼ é€’äº†hash</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>éœ€è¦æ³¨æ„çš„æ˜¯flaskå­˜å‚¨sessionçš„åšæ³•ä¸åŒäºdjangoï¼Œdjangoæ˜¯ç›´æ¥å­˜å‚¨åˆ°æœåŠ¡å™¨ç«¯ï¼Œcookieå­˜å‚¨ä¸€ä¸ªsessionidï¼ŒæŒ‰ç…§è¿™ä¸ªidè·å–sessionã€‚flaskç›´æ¥æŠŠsessionå­˜å‚¨åœ¨cookieæ”¾åœ¨äº†å®¢æˆ·ç«¯</p></div> <h3>sessionæŒä¹…åŒ–åˆ°æ•°æ®åº“</h3> <p><code>pip install flask-session</code>,å®˜ç½‘<a href="https://pythonhosted.org/Flask-Session/">é“¾æ¥</a><br> <code>SESSION_TYPE = 'redis'</code>åŠ å…¥åˆ°settings.py-&gt;Configç±»ä¸­,ext.py<code>from flask_session import Session</code>åˆå§‹åŒ–<code>Session(app)</code><br>
è¿™ä¸ªæ’ä»¶æ”¯æŒ redis memcached filesystem mongodb sqlalchmeyã€‚<br>
åœ¨settings-&gt;Configç±»ä¸­é…ç½®
å…¬å…±å‰ç¼€</p> <div class="language-py extra-class"><pre class="language-py"><code>SESSION_PERMANENT <span class="token operator">=</span> <span class="token boolean">True</span> <span class="token comment"># å¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™å…³é—­æµè§ˆå™¨sessionå°±å¤±æ•ˆã€‚</span>
SESSION_USE_SIGNER <span class="token operator">=</span> <span class="token boolean">False</span> <span class="token comment"># æ˜¯å¦å¯¹å‘é€åˆ°æµè§ˆå™¨ä¸Šsessionçš„cookieå€¼è¿›è¡ŒåŠ å¯†</span>
SESSION_KEY_PREFIX <span class="token operator">=</span> <span class="token string">'session:'</span> <span class="token comment"># ä¿å­˜åˆ°sessionä¸­çš„å€¼çš„å‰ç¼€</span>
</code></pre></div><h3>redis </h3> <details><summary><B><I style="cursor:pointer;color:#0e5870;">Click to See More </I></B></summary> <div class="language-py extra-class"><pre class="language-py"><code>SESSION_TYPE <span class="token operator">=</span> <span class="token string">'redis'</span>  <span class="token comment"># sessionç±»å‹ä¸ºredis</span>
SESSION_REDIS <span class="token operator">=</span> redis<span class="token punctuation">.</span>Redis<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token string">'6379'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'123123'</span><span class="token punctuation">)</span>  
<span class="token comment"># ç”¨äºè¿æ¥redisçš„é…ç½®</span>
</code></pre></div></details> <h3>memcached </h3> <details><summary><B><I style="cursor:pointer;color:#0e5870;">Click to See More </I></B></summary> <div class="language-py extra-class"><pre class="language-py"><code>SESSION_TYPE <span class="token operator">=</span> <span class="token string">'memcached'</span> <span class="token comment"># sessionç±»å‹ä¸ºmemcached</span>
SESSION_MEMCACHED <span class="token operator">=</span> memcache<span class="token punctuation">.</span>Client<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'10.211.55.4:12000'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div></details> <h3>filesystem </h3> <details><summary><B><I style="cursor:pointer;color:#0e5870;">Click to See More </I></B></summary> <div class="language-py extra-class"><pre class="language-py"><code>SESSION_TYPE <span class="token operator">=</span> <span class="token string">'filesystem'</span>  <span class="token comment"># sessionç±»å‹ä¸ºredis</span>
SESSION_FILE_DIR <span class="token operator">=</span> <span class="token string">'/session/dir'</span>  <span class="token comment"># å­˜å‚¨sessionæ–‡ä»¶å¤¹</span>
SESSION_FILE_THRESHOLD <span class="token operator">=</span> <span class="token number">500</span>  <span class="token comment"># å­˜å‚¨sessionçš„ä¸ªæ•°å¦‚æœå¤§äºè¿™ä¸ªå€¼æ—¶ï¼Œå°±è¦å¼€å§‹è¿›è¡Œåˆ é™¤äº†</span>
SESSION_FILE_MODE <span class="token operator">=</span> <span class="token number">384</span>  <span class="token comment"># æ–‡ä»¶æƒé™ç±»å‹</span>
</code></pre></div></details> <h3>mongodb </h3> <details><summary><B><I style="cursor:pointer;color:#0e5870;">Click to See More </I></B></summary> <div class="language-py extra-class"><pre class="language-py"><code>SESSION_TYPE <span class="token operator">=</span> <span class="token string">'mongodb'</span>  <span class="token comment"># sessionç±»å‹ä¸ºredis</span>
SESSION_MONGODB <span class="token operator">=</span> pymongo<span class="token punctuation">.</span>MongoClient<span class="token punctuation">(</span><span class="token punctuation">)</span>
SESSION_MONGODB_DB <span class="token operator">=</span> <span class="token string">'mongoçš„dbåç§°ï¼ˆæ•°æ®åº“åç§°ï¼‰'</span>
SESSION_MONGODB_COLLECT <span class="token operator">=</span> <span class="token string">'mongoçš„collectåç§°ï¼ˆè¡¨åç§°ï¼‰'</span>
</code></pre></div></details> <h3>sqlalchmey</h3> <details><summary><B><I style="cursor:pointer;color:#0e5870;">Click to See More </I></B></summary> <div class="language-py extra-class"><pre class="language-py"><code>SESSION_TYPE <span class="token operator">=</span> <span class="token string">'sqlalchemy'</span>  <span class="token comment"># sessionç±»å‹ä¸ºsqlalchemy</span>
SESSION_SQLALCHEMY <span class="token operator">=</span> models <span class="token comment"># SQLAlchemyå¯¹è±¡,è®°å¾—å‰é¢è¦æ³¨å†Œmodels=SQLAlchemy()</span>
SESSION_SQLALCHEMY_TABLE <span class="token operator">=</span> <span class="token string">'session'</span> <span class="token comment"># sessionè¦ä¿å­˜çš„è¡¨åç§°</span>
</code></pre></div></details> <h2 id="jinja2æ¨¡æ¿"><a href="#jinja2æ¨¡æ¿" aria-hidden="true" class="header-anchor">#</a> jinja2æ¨¡æ¿</h2> <p>å®˜ç½‘<a href="http://docs.jinkan.org/docs/jinja2/">åœ¨è¿™</a>,è®°ä¸ä½äº†å»ç…ç…<br>
ä½¿ç”¨:render_template('template1.html',key=value)</p> <ul><li>è·å–å˜é‡å€¼:</li></ul> <div class="language-py extra-class"><pre class="language-py"><code>    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>æ•´æ•°<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> number <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>å…ƒç¥–<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>åˆ—è¡¨<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>å­—å…¸<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'key'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre></div><ul><li>åˆ†æ”¯è¯­å¥if</li></ul> <div class="language-py extra-class"><pre class="language-py"><code><span class="token punctuation">{</span> <span class="token operator">%</span> <span class="token keyword">if</span> a<span class="token operator">==</span>b <span class="token operator">%</span> <span class="token punctuation">}</span>
    è¯­å¥<span class="token number">1</span>
 <span class="token punctuation">{</span> <span class="token operator">%</span> <span class="token keyword">else</span> <span class="token operator">%</span> <span class="token punctuation">}</span>    
    è¯­å¥<span class="token number">2</span>
<span class="token punctuation">{</span> <span class="token operator">%</span> endif <span class="token operator">%</span> <span class="token punctuation">}</span>
</code></pre></div><ul><li>forå¾ªç¯</li></ul> <div class="language-py extra-class"><pre class="language-py"><code><span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> i  <span class="token keyword">in</span> value <span class="token operator">%</span><span class="token punctuation">}</span>
    è¯­å¥
<span class="token punctuation">{</span><span class="token operator">%</span> endfor<span class="token operator">%</span><span class="token punctuation">}</span>
</code></pre></div><p>ç•™å‘loopçš„ä½¿ç”¨</p> <ul><li>æ³¨é‡Š</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{# æ³¨é‡Šå†…å®¹ #}
</code></pre></div><ul><li>block,extends<br>
çˆ¶æ¨¡æ¿æŒ–å‘å­æ¨¡æ¿å¡«.</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;/&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{ tittle }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

{% block header %}
{% endblock %}
this is base content
{% block content %}
{% endblock %}

{% block footer %}
{% endblock %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç»§æ‰¿ä¹‹å</p> <div class="language-html extra-class"><pre class="language-html"><code>{% extends &quot;base.html&quot; %}
{% block header %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span>5</span><span class="token punctuation">&gt;</span></span>
{% endblock %}
{% block content %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    {% for i in students %}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>i am students {{ i }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {% endfor %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
{% endblock %}
{% block footer %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span>5</span><span class="token punctuation">&gt;</span></span>
{% endblock %}
</code></pre></div><p>å¦‚æœæœ‰åˆç»§æ‰¿äº†å­æ¨¡æ¿ä¹‹å,é‡å†™çš„å—å†…å®¹ä¼šè¢«è¦†ç›–,åœ¨å—å¤´åŠ å…¥ <code>{ { super() } }</code> å°±å¯ä»¥,æ²¡é‡å†™çš„blockä¼šæ˜¾ç¤º</p> <ul><li>include,marco</li></ul> <p>å®å®šä¹‰ç•™å‘</p> <h3 id="flask-bootstrap"><a href="#flask-bootstrap" aria-hidden="true" class="header-anchor">#</a> flask-bootstrap</h3> <p>æ³¨å†Œæ‹“å±•ä¹‹åç›´æ¥å°±å¯ä»¥ç”¨bootstrapäº†,æ— éœ€å¼•å…¥cssä¹‹ç±»çš„,<a href="https://pythonhosted.org/Flask-Bootstrap/">å®˜ç½‘</a>ä¾‹å­<br>
ç»“æ„ç•™å‘</p> <h2 id="model"><a href="#model" aria-hidden="true" class="header-anchor">#</a> Model</h2> <p>åˆ é™¤è¡¨
æ·»åŠ è¡¨
æ¸…é™¤è¡¨
å­—æ®µç±»å‹
Integer
Smallinteger
BigInteger
Float
Numeric
String
Text
Unicode
Unicode Text
Boolean
Date
Time
DateTime
Interval
LargeBinary
å¼•ç”¨æ–¹å¼åœ¨
å¸¸ç”¨çº¦æŸ
primary key
autoincrement
unique
index
oullable
default
Foreignkey()</p> <p>db.create.allï¼ˆï¼‰
db.drop allï¼ˆï¼‰
æ•°æ®æ“ä½œ
åœ¨äº‹åŠ¡ä¸­å¤„ç†ï¼Œæ•°æ®æ’å…¥
db.session.add(object)
db.session.add_all(list[object])
dä¸š.session.delete(object)
db.session.commit()
ä¿®æ”¹å’Œåˆ é™¤åŸºäºæŸ¥è¯¢
User.query.all()æ‹¿åˆ°æ‰€æœ‰çš„å¯¹è±¡
User.query.get(id)åªæ”¯æŒä¸»é”®
User.query.first()æ‹¿åˆ°ç¬¬ä¸€æ¡è®°å½•
User.query.filter()æŸ¥è¯¢æ¡ä»¶</p> <p>blueprint(&quot;blue&quot;,<strong>name</strong>,template_folder=&quot;xxx&quot;,urlprefi=&quot;/db&quot;)urlå‰ç¼€</p> <p><code>pip install flask-debugtoolbar</code> åœ¨extä¸­å¼•å…¥,DebugToolbarExtension(app)<br>
configä¸­çš„å˜é‡éƒ½å¯ä»¥åœ¨Configä¸­é…ç½®,æ¯ä¸€é¡¹å…·ä½“ä½œç”¨è‡ªå·±ç™¾åº¦</p> <p>é™æ€èµ„æºä¹Ÿæ˜¯æœ‰è·¯ç”±çš„
endpointæ˜¯static
å‚æ•°æœ‰ä¸€ä¸ªfilename</p> <div class="language- extra-class"><pre class="language-text"><code>{{url_for('static,filename=xxx)}}
</code></pre></div><h2 id="å‚è€ƒå¼•ç”¨"><a href="#å‚è€ƒå¼•ç”¨" aria-hidden="true" class="header-anchor">#</a> å‚è€ƒå¼•ç”¨</h2> <ul><li>https://www.cnblogs.com/52forjie/p/8282453.html</li> <li>åƒå³°flaskè§†é¢‘
<div id="vcomments"></div></li></ul></div> <!----> <!----> <!----> <div class="page-edit" data-v-cdcae5a4><!----> <div class="last-updated" data-v-cdcae5a4><span class="prefix" data-v-cdcae5a4>Last Updated: </span> <span class="time" data-v-cdcae5a4>12/29/2019, 3:00:55 PM</span></div></div> <div class="page-nav" data-v-cdcae5a4><p class="inner" data-v-cdcae5a4><!----> <span class="next" data-v-cdcae5a4><a href="/blog/back/python/Django.html" data-v-cdcae5a4>
          Djangoçš„åŸºç¡€çŸ¥è¯†(Old)
        </a>
        â†’
      </span></p></div> </div> <div class="valine-wrapper" data-v-63f18ac0><div id="valine" style="display:;" data-v-63f18ac0></div></div> <!----> <!----> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-41016a8b data-v-41016a8b><i class="iconfont reco-up" data-v-41016a8b></i></div></div></div></div>
    <script src="/assets/js/app.64171550.js" defer></script><script src="/assets/js/17.a33727a2.js" defer></script><script src="/assets/js/38.34e99c36.js" defer></script>
  </body>
</html>
