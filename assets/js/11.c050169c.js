(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{338:function(a,o,e){a.exports=e.p+"assets/img/Snipaste_2019-12-24_16-50-33.1144f1a8.png"},339:function(a,o,e){a.exports=e.p+"assets/img/Snipaste_2019-12-24_20-05-06.58eef2bb.png"},340:function(a,o,e){a.exports=e.p+"assets/img/Snipaste_2019-12-24_20-08-30.d890bf7b.png"},341:function(a,o,e){a.exports=e.p+"assets/img/Snipaste_2019-12-24_16-32-35.7523f667.png"},342:function(a,o,e){a.exports=e.p+"assets/img/Snipaste_2019-12-25_16-21-02.aa09be30.png"},409:function(a,o,e){"use strict";e.r(o);var s=[function(){var a=this.$createElement,o=this._self._c||a;return o("h2",{attrs:{id:"环境说明"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#环境说明","aria-hidden":"true"}},[this._v("#")]),this._v(" 环境说明")])},function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("ul",[e("li",[a._v("win10专业版19.3")]),a._v(" "),e("li",[a._v("docker desktop")]),a._v(" "),e("li",[a._v("WSL-Ubuntu18.04")]),a._v(" "),e("li",[a._v("jdk1.8-8u231")]),a._v(" "),e("li",[a._v("hadoop-3.1.3")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"warning custom-block"},[o("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),o("p",[this._v("docker是windows上的,也就是在WSL中的客户端不能直接挂在WSL的目录,必须能够转化为windows下的目录")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("如果不做更改,默认其他盘是在"),o("code",[this._v("/mnt")]),this._v("下的,但是docker挂载目录需要的是可以转化为win下可寻的目录,所以不能直接挂载/mnt/c,会挂载到一个奇怪的目录,而且不能取消"),o("br"),this._v("\n在WSL中编辑"),o("code",[this._v("/etc/wsl.conf")]),this._v("写入并 "),o("em",[this._v("重启")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v('[automount]\nenabled = true\nroot = /\noptions = "metadata,umask=22,fmask=11"\nmountFsTab = false\n')])])])},function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("p",[a._v("之后根目录下会有"),e("code",[a._v("/c /d /e")]),a._v(",想要挂载目录"),e("code",[a._v("/c/programfiles...")]),a._v("就可以了"),e("br"),a._v("\n同样注意WSL下的"),e("code",[a._v("$PWD``$HOME")]),a._v("和自定义的变量都不能用,WSL的root在"),e("br"),a._v(" "),e("code",[a._v("/C/Users/ooowl/AppData/Local/Packages/CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc/LocalState/rootfs/root/")]),e("br"),a._v("\n且不可读,但是可以挂载很奇怪.")])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"总目标"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#总目标","aria-hidden":"true"}},[this._v("#")]),this._v(" 总目标")])},function(){var a=this.$createElement,o=this._self._c||a;return o("ul",[o("li",[this._v("hadoop0 192.168.2.10(主)")]),this._v(" "),o("li",[this._v("hadoop1 192.168.2.11")]),this._v(" "),o("li",[this._v("hadoop2 192.168.2.12")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h2",{attrs:{id:"镜像准备"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#镜像准备","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像准备")])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"制作镜像"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#制作镜像","aria-hidden":"true"}},[this._v("#")]),this._v(" 制作镜像")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("思路:我们需要的是三个装好hadoop和jdk的镜像,并且配置好了ssh\npull下来centos"),o("code",[this._v("docker pull centos")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("NAME                               DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\ncentos                             The official build of CentOS.                   5734                [OK]           \n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v(" root ~>tree hadoopimgs                                                                      \nhadoopimgs\n├── centos-hadoop\n│   ├── Dockerfile #1 ssh\n│   └── hadoop-3.1.3.tar.gz\n├── centos-ssh-jdk\n│   ├── Dockerfile #2 jdk\n│   └── jdk-8u231-linux-x64.tar.gz\n└── centos-ssh-root\n    └── Dockerfile #3 hadoop\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("在windows上下载两个软件然后直接cp进来"),o("br"),this._v("\n1 ssh的Dockerfile")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v('# 选择一个已有的os镜像作为基础  \nFROM centos \n   \n# 镜像的作者  \nMAINTAINER shixun\n   \n# 安装openssh-server和sudo软件包，并且将sshd的UsePAM参数设置成no  \nRUN yum install -y openssh-server sudo  \nRUN sed -i \'s/UsePAM yes/UsePAM no/g\' /etc/ssh/sshd_config  \n#安装openssh-clients\nRUN yum  install -y openssh-clients\nRUN yum  install -y net-tools\nRUN yum  install -y vim\nRUN yum  install -y tree\nRUN yum  install -y git\n   \n# 添加测试用户root，密码root，并且将此用户添加到sudoers里  \nRUN echo "root:root" | chpasswd\nRUN echo "root   ALL=(ALL)       ALL" >> /etc/sudoers  \n# 下面这两句比较特殊，在centos6上必须要有，否则创建出来的容器sshd不能登录  \nRUN ssh-keygen -t dsa -f /etc/ssh/ssh_host_dsa_key  \nRUN ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key  \n   \n# 启动sshd服务并且暴露22端口  \nRUN mkdir /var/run/sshd  \nEXPOSE 22  \nCMD ["/usr/sbin/sshd", "-D"]\n')])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("在这个目录中执行"),o("code",[this._v('docker build -t "centos-ssh" .')])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("FROM centos-ssh\nADD ./jdk-8u231-linux-x64.tar.gz /usr/local/\nRUN mv /usr/local/jdk1.8.0_231 /usr/local/jdk1.8\nENV JAVA_HOME /usr/local/jdk1.8\nENV PATH $JAVA_HOME/bin:$PATH\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("在这个目录中执行"),o("code",[this._v('docker build -t "centos-jdk" .')])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("FROM centos-jdk\nADD hadoop-3.1.3.tar.gz /usr/local\nRUN mv /usr/local/hadoop-3.1.3  /usr/local/hadoop\nENV HADOOP_HOME /usr/local/hadoop\nENV PATH $HADOOP_HOME/bin:$PATH\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("在这个目录中执行"),o("code",[this._v('docker build -t "centos-hadoop" .')])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("一定要按顺序执行不能乱序因为后面的镜像需要前面的设置"),o("br"),this._v("\n然后"),o("code",[this._v("docker images")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("REPOSITORY                 TAG                 IMAGE ID            CREATED             SIZE\ncentos-hadoop              latest              0775d9e8e35f        25 hours ago        2.79GB\ncentos-jdk                 latest              1fb53b406bea        25 hours ago        1.1GB\ncentos-ssh                 latest              636c9d7f103e        25 hours ago        297MB\ncentos                     latest              0f3e07c0138f        2 months ago        220MB\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"镜像互通"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#镜像互通","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像互通")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("大部分人用的都是pipework建立bridge,但是WSL好像不能用,所以我们选择docker的网络"),o("br"),this._v("\n首先创建一个网络覆盖192.168.2.10网段,默认bridge模式可以内外访问,名称就是hadoop就好"),o("br"),this._v(" "),o("code",[this._v("docker network ls")]),this._v("查看网络,"),o("code",[this._v("docker network create --subnet 192.168.2.0/24 hadoop")]),this._v("\n然后我们创建1个镜像然后将配置好的镜像提交一个新镜像,直接创建两个一模一样的,先创建下面这样的目录,映射到里面传输数据用(文件是乱七八糟创建的,看看挂载是否成功)")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("root>~$tree hadoopdata\n\nhadoopdata\n├── authorized_keys\n├── master0\n│   ├── a.txt\n│   ├── as\n│   └── b.txt\n├── slave1\n│   └── daf\n└── slave2\n    └── sadsadsa\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("WEB界面中监控hdfs:50070,50075"),o("br"),this._v("\nWEB界面中监控任务执行状况:8088"),o("br"),this._v("\n访问HDFS:9000"),o("br"),this._v(" "),o("br"),this._v("\n每个主机都开放ssh,22映射出来\n"),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[o("em",[this._v("命令")]),o("br"),this._v("\nhadoop0")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("docker run -v /C/Users/ooowl/AppData/Local/Packages/CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc/LocalState/rootfs/root/hadoopdata:/data \n--name hadoop0 --hostname hadoop0 \n--net hadoop --ip 192.168.2.10 -d -p 20022:22 -p 50070:50070 -p 8088:8088 -p 9000:9000  \ncentos-hadoop\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"tip custom-block"},[o("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),o("p",[this._v("我是在WSL上跑的,所以需要映射的目录是从win下能访问到的根目录,直接"),o("code",[this._v("$HOME")]),this._v("和"),o("code",[this._v("$PWD")]),this._v("都不行")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h2",{attrs:{id:"配置hadoop"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#配置hadoop","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置hadoop")])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"伪集群配置"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#伪集群配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 伪集群配置")])},function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("p",[a._v("hadoop的目录在"),e("code",[a._v("/usr/local/hadoop/")]),a._v(",进入"),e("br"),a._v("\n之后进入"),e("code",[a._v("/usr/local/hadoop/etc/hadoop")]),e("br"),a._v("\n[1] "),e("code",[a._v("vim hadoop-env.sh")]),a._v(",指定运行用户hadoophome等等,如果加进去无效,就加到"),e("code",[a._v("~/.bashrc")]),a._v("里面")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v('export JAVA_HOME=/usr/local/jdk1.8\nexport HDFS_NAMENODE_USER="root"\nexport HDFS_DATANODE_USER="root"\nexport HDFS_SECONDARYNAMENODE_USER="root"\nexport YARN_RESOURCEMANAGER_USER="root"\nexport YARN_NODEMANAGER_USER="root"\nexport HADOOP_INSTALL=/usr/local/hadoop\nexport PATH=$PATH:$HADOOP_INSTALL/bin\nexport PATH=$PATH:$HADOOP_INSTALL/sbin\nexport HADOOP_MAPRED_HOME=$HADOOP_INSTALL\nexport HADOOP_COMMON_HOME=$HADOOP_INSTALL\nexport HADOOP_HDFS_HOME=$HADOOP_INSTALL\nexport YARN_HOME=$HADOOP_INSTALL\n')])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("ERROR: Attempting to launch hdfs namenode as root\nERROR: but there is no HDFS_NAMENODE_USER defined. Aborting launch.\nStarting datanodes\nERROR: Attempting to launch hdfs datanode as root\nERROR: but there is no HDFS_DATANODE_USER defined. Aborting launch.\nStarting secondary namenodes [localhost.localdomain]\nERROR: Attempting to launch hdfs secondarynamenode as root\nERROR: but there is no HDFS_SECONDARYNAMENODE_USER defined. Aborting launch.\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("[2] "),o("code",[this._v("vim core-site.xml")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("<configuration>\n        <property>\n                <name>fs.defaultFS</name>\n                <value>hdfs://hadoop0:9000</value>\n        </property>\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/usr/local/hadoop/tmp</value>\n        </property>\n         <property>\n                 <name>fs.trash.interval</name>\n                 <value>1440</value>\n        </property>\n</configuration>\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("[3] "),o("code",[this._v("vim hdfs-site.xml")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("<configuration>\n    <property>\n        <name>dfs.replication</name>\n        <value>1</value>\n    </property>\n    <property>\n        <name>dfs.permissions</name>\n        <value>false</value>\n    </property>\n    <property> \n        <name>dfs.http.address</name>\n        <value>0.0.0.0:50070</value>\n    </property>\n</configuration>\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("[4] "),o("code",[this._v("vim yarn-site.xml")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("<configuration>\n        <property>\n                <name>yarn.nodemanager.aux-services</name>\n                <value>mapreduce_shuffle</value>\n        </property>\n        <property> \n                <name>yarn.log-aggregation-enable</name> \n                <value>true</value> \n        </property>\n</configuration>\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("[5] "),o("code",[this._v("vim mapred-site.xml")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("<configuration>\n    <property>\n        <name>mapreduce.framework.name</name>\n        <value>yarn</value>\n    </property>\n    <property>\n        <name>yarn.app.mapreduce.am.env</name>\n        <value>HADOOP_MAPRED_HOME=$HADOOP_HOME</value>\n    </property>\n    <property>\n        <name>mapreduce.map.env</name>\n        <value>HADOOP_MAPRED_HOME=$HADOOP_HOME</value>\n    </property>\n    <property>\n        <name>mapreduce.reduce.env</name>\n        <value>HADOOP_MAPRED_HOME=$HADOOP_HOME</value>\n    </property>\n    <property>\n    <name>mapreduce.map.memory.mb</name>\n    <value>2048</value>\n    </property>\n    <property>\n        <name>mapreduce.map.java.opts</name>\n        <value>-Xmx2048M</value>\n    </property>\n    <property>\n        <name>mapreduce.reduce.memory.mb</name>\n        <value>4096</value>\n    </property>\n    <property>\n        <name>mapreduce.reduce.java.opts</name>\n        <value>-Xmx4096M</value>\n    </property>\n</configuration>\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("之后进入"),o("code",[this._v("cd /usr/local/hadoop")]),this._v(",初始化"),o("code",[this._v("bin/hdfs namenode -format")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"tip custom-block"},[o("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),o("p",[this._v("格式化操作不能重复执行。如果一定要重复格式化，带参数-force即可"),o("br"),this._v("\n格式化必须要进行,否则hdfs模块无法指定.")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("出现这个就应该成功了"),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{attrs:{align:"center"}},[o("img",{staticStyle:{height:"200px"},attrs:{src:e(338)}})])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("WARNING: /usr/local/hadoop/logs does not exist. Creating.\n2019-12-24 08:48:24,278 INFO namenode.NameNode: STARTUP_MSG: \n/************************************************************\nSTARTUP_MSG: Starting NameNode\nSTARTUP_MSG:   host = hadoop0/192.168.2.10\nSTARTUP_MSG:   args = [-format]\nSTARTUP_MSG:   version = 3.1.3\nSTARTUP_MSG:   classpath = /usr/local/hadoop/etc/hadoop:/usr/local/hadoop/share/hadoop/common/lib/jersey-core-1.19.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-lang-2.6.jar:/usr/local/hadoop/share/hadoop/common/lib/guava-27.0-jre.jar:/usr/local/hadoop/share/hadoop/common/lib/jaxb-impl-2.2.3-1.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-http-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-simplekdc-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-client-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-cli-1.2.jar:/usr/local/hadoop/share/hadoop/common/lib/jackson-databind-2.7.8.jar:/usr/local/hadoop/share/hadoop/common/lib/jersey-servlet-1.19.jar:/usr/local/hadoop/share/hadoop/common/lib/httpclient-4.5.2.jar:/usr/local/hadoop/share/hadoop/common/lib/jackson-core-asl-1.9.13.jar:/usr/local/hadoop/share/hadoop/common/lib/kerby-config-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/jsch-0.1.54.jar:/usr/local/hadoop/share/hadoop/common/lib/httpcore-4.4.4.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-crypto-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/hadoop-annotations-3.1.3.jar:/usr/local/hadoop/share/hadoop/common/lib/curator-client-2.13.0.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-net-3.6.jar:/usr/local/hadoop/share/hadoop/common/lib/paranamer-2.3.jar:/usr/local/hadoop/share/hadoop/common/lib/curator-recipes-2.13.0.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-xml-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-util-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/re2j-1.1.jar:/usr/local/hadoop/share/hadoop/common/lib/netty-3.10.5.Final.jar:/usr/local/hadoop/share/hadoop/common/lib/kerby-pkix-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-collections-3.2.2.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-configuration2-2.1.1.jar:/usr/local/hadoop/share/hadoop/common/lib/metrics-core-3.2.4.jar:/usr/local/hadoop/share/hadoop/common/lib/zookeeper-3.4.13.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-math3-3.1.1.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-server-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-codec-1.11.jar:/usr/local/hadoop/share/hadoop/common/lib/nimbus-jose-jwt-4.41.1.jar:/usr/local/hadoop/share/hadoop/common/lib/jersey-json-1.19.jar:/usr/local/hadoop/share/hadoop/common/lib/jackson-xc-1.9.13.jar:/usr/local/hadoop/share/hadoop/common/lib/kerby-util-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-compress-1.18.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-servlet-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/jackson-jaxrs-1.9.13.jar:/usr/local/hadoop/share/hadoop/common/lib/gson-2.2.4.jar:/usr/local/hadoop/share/hadoop/common/lib/jaxb-api-2.2.11.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-lang3-3.4.jar:/usr/local/hadoop/share/hadoop/common/lib/jersey-server-1.19.jar:/usr/local/hadoop/share/hadoop/common/lib/jackson-core-2.7.8.jar:/usr/local/hadoop/share/hadoop/common/lib/failureaccess-1.0.jar:/usr/local/hadoop/share/hadoop/common/lib/kerby-asn1-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/jsr311-api-1.1.1.jar:/usr/local/hadoop/share/hadoop/common/lib/htrace-core4-4.1.0-incubating.jar:/usr/local/hadoop/share/hadoop/common/lib/hadoop-auth-3.1.3.jar:/usr/local/hadoop/share/hadoop/common/lib/animal-sniffer-annotations-1.17.jar:/usr/local/hadoop/share/hadoop/common/lib/curator-framework-2.13.0.jar:/usr/local/hadoop/share/hadoop/common/lib/json-smart-2.3.jar:/usr/local/hadoop/share/hadoop/common/lib/audience-annotations-0.5.0.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-io-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/kerby-xdr-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/woodstox-core-5.0.3.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-webapp-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/jackson-mapper-asl-1.9.13.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-server-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-common-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/jcip-annotations-1.0-1.jar:/usr/local/hadoop/share/hadoop/common/lib/log4j-1.2.17.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-admin-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/javax.servlet-api-3.1.0.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-security-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/jettison-1.1.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-logging-1.1.3.jar:/usr/local/hadoop/share/hadoop/common/lib/jsp-api-2.1.jar:/usr/local/hadoop/share/hadoop/common/lib/jackson-annotations-2.7.8.jar:/usr/local/hadoop/share/hadoop/common/lib/checker-qual-2.5.2.jar:/usr/local/hadoop/share/hadoop/common/lib/token-provider-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/error_prone_annotations-2.2.0.jar:/usr/local/hadoop/share/hadoop/common/lib/asm-5.0.4.jar:/usr/local/hadoop/share/hadoop/common/lib/stax2-api-3.1.4.jar:/usr/local/hadoop/share/hadoop/common/lib/protobuf-java-2.5.0.jar:/usr/local/hadoop/share/hadoop/common/lib/slf4j-api-1.7.25.jar:/usr/local/hadoop/share/hadoop/common/lib/jsr305-3.0.0.jar:/usr/local/hadoop/share/hadoop/common/lib/j2objc-annotations-1.1.jar:/usr/local/hadoop/share/hadoop/common/lib/jetty-util-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/common/lib/snappy-java-1.0.5.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-core-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/avro-1.7.7.jar:/usr/local/hadoop/share/hadoop/common/lib/kerb-identity-1.0.1.jar:/usr/local/hadoop/share/hadoop/common/lib/accessors-smart-1.2.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-beanutils-1.9.3.jar:/usr/local/hadoop/share/hadoop/common/lib/jul-to-slf4j-1.7.25.jar:/usr/local/hadoop/share/hadoop/common/lib/commons-io-2.5.jar:/usr/local/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar:/usr/local/hadoop/share/hadoop/common/hadoop-nfs-3.1.3.jar:/usr/local/hadoop/share/hadoop/common/hadoop-common-3.1.3.jar:/usr/local/hadoop/share/hadoop/common/hadoop-kms-3.1.3.jar:/usr/local/hadoop/share/hadoop/common/hadoop-common-3.1.3-tests.jar:/usr/local/hadoop/share/hadoop/hdfs:/usr/local/hadoop/share/hadoop/hdfs/lib/jersey-core-1.19.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-lang-2.6.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/guava-27.0-jre.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jaxb-impl-2.2.3-1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-http-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-simplekdc-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-client-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-cli-1.2.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jackson-databind-2.7.8.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jersey-servlet-1.19.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/httpclient-4.5.2.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jackson-core-asl-1.9.13.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerby-config-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jsch-0.1.54.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/httpcore-4.4.4.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-crypto-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/hadoop-annotations-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/curator-client-2.13.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/leveldbjni-all-1.8.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/okhttp-2.7.5.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-net-3.6.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/paranamer-2.3.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/curator-recipes-2.13.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-xml-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-util-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/re2j-1.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/netty-3.10.5.Final.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/okio-1.6.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerby-pkix-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-collections-3.2.2.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-configuration2-2.1.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/zookeeper-3.4.13.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-math3-3.1.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-server-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-codec-1.11.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/nimbus-jose-jwt-4.41.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jersey-json-1.19.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jackson-xc-1.9.13.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerby-util-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-compress-1.18.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-servlet-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jackson-jaxrs-1.9.13.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/gson-2.2.4.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jaxb-api-2.2.11.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-lang3-3.4.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jersey-server-1.19.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jackson-core-2.7.8.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/failureaccess-1.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerby-asn1-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jsr311-api-1.1.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/htrace-core4-4.1.0-incubating.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/hadoop-auth-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/animal-sniffer-annotations-1.17.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/curator-framework-2.13.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/json-smart-2.3.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/audience-annotations-0.5.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-io-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerby-xdr-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-daemon-1.0.13.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/woodstox-core-5.0.3.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-webapp-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jackson-mapper-asl-1.9.13.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-server-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-common-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jcip-annotations-1.0-1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/log4j-1.2.17.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-admin-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/javax.servlet-api-3.1.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-security-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jettison-1.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-logging-1.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jackson-annotations-2.7.8.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/checker-qual-2.5.2.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/token-provider-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/error_prone_annotations-2.2.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/asm-5.0.4.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-util-ajax-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/stax2-api-3.1.4.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/protobuf-java-2.5.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/json-simple-1.1.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jsr305-3.0.0.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/j2objc-annotations-1.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/jetty-util-9.3.24.v20180605.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/netty-all-4.0.52.Final.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/snappy-java-1.0.5.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-core-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/avro-1.7.7.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/kerb-identity-1.0.1.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/accessors-smart-1.2.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-beanutils-1.9.3.jar:/usr/local/hadoop/share/hadoop/hdfs/lib/commons-io-2.5.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-rbf-3.1.3-tests.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-httpfs-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-native-client-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-rbf-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-nfs-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-client-3.1.3-tests.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-client-3.1.3.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-3.1.3-tests.jar:/usr/local/hadoop/share/hadoop/hdfs/hadoop-hdfs-native-client-3.1.3-tests.jar:/usr/local/hadoop/share/hadoop/mapreduce/lib/hamcrest-core-1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/lib/junit-4.11.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.3-tests.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-nativetask-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-uploader-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-shuffle-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-app-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-hs-plugins-3.1.3.jar:/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-hs-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn:/usr/local/hadoop/share/hadoop/yarn/lib/objenesis-1.0.jar:/usr/local/hadoop/share/hadoop/yarn/lib/fst-2.50.jar:/usr/local/hadoop/share/hadoop/yarn/lib/geronimo-jcache_1.0_spec-1.0-alpha-1.jar:/usr/local/hadoop/share/hadoop/yarn/lib/HikariCP-java7-2.4.12.jar:/usr/local/hadoop/share/hadoop/yarn/lib/guice-4.0.jar:/usr/local/hadoop/share/hadoop/yarn/lib/ehcache-3.3.1.jar:/usr/local/hadoop/share/hadoop/yarn/lib/metrics-core-3.2.4.jar:/usr/local/hadoop/share/hadoop/yarn/lib/json-io-2.5.1.jar:/usr/local/hadoop/share/hadoop/yarn/lib/jackson-jaxrs-json-provider-2.7.8.jar:/usr/local/hadoop/share/hadoop/yarn/lib/jackson-jaxrs-base-2.7.8.jar:/usr/local/hadoop/share/hadoop/yarn/lib/aopalliance-1.0.jar:/usr/local/hadoop/share/hadoop/yarn/lib/guice-servlet-4.0.jar:/usr/local/hadoop/share/hadoop/yarn/lib/swagger-annotations-1.5.4.jar:/usr/local/hadoop/share/hadoop/yarn/lib/mssql-jdbc-6.2.1.jre7.jar:/usr/local/hadoop/share/hadoop/yarn/lib/dnsjava-2.1.7.jar:/usr/local/hadoop/share/hadoop/yarn/lib/javax.inject-1.jar:/usr/local/hadoop/share/hadoop/yarn/lib/snakeyaml-1.16.jar:/usr/local/hadoop/share/hadoop/yarn/lib/jackson-module-jaxb-annotations-2.7.8.jar:/usr/local/hadoop/share/hadoop/yarn/lib/jersey-client-1.19.jar:/usr/local/hadoop/share/hadoop/yarn/lib/java-util-1.9.0.jar:/usr/local/hadoop/share/hadoop/yarn/lib/jersey-guice-1.19.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-web-proxy-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-applications-distributedshell-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-common-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-services-core-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-api-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-applicationhistoryservice-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-services-api-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-sharedcachemanager-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-client-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-router-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-applications-unmanaged-am-launcher-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-resourcemanager-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-timeline-pluginstorage-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-registry-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-tests-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-server-nodemanager-3.1.3.jar:/usr/local/hadoop/share/hadoop/yarn/hadoop-yarn-common-3.1.3.jar\nSTARTUP_MSG:   build = https://gitbox.apache.org/repos/asf/hadoop.git -r ba631c436b806728f8ec2f54ab1e289526c90579; compiled by 'ztang' on 2019-09-12T02:47Z\nSTARTUP_MSG:   java = 1.8.0_231\n************************************************************/\n2019-12-24 08:48:24,285 INFO namenode.NameNode: registered UNIX signal handlers for [TERM, HUP, INT]\n2019-12-24 08:48:24,375 INFO namenode.NameNode: createNameNode [-format]\nFormatting using clusterid: CID-7332eeaa-d91e-450a-b79a-4de68bdb1680\n2019-12-24 08:48:24,844 INFO namenode.FSEditLog: Edit logging is async:true\n2019-12-24 08:48:24,856 INFO namenode.FSNamesystem: KeyProvider: null\n2019-12-24 08:48:24,857 INFO namenode.FSNamesystem: fsLock is fair: true\n2019-12-24 08:48:24,857 INFO namenode.FSNamesystem: Detailed lock hold time metrics enabled: false\n2019-12-24 08:48:24,862 INFO namenode.FSNamesystem: fsOwner             = root (auth:SIMPLE)\n2019-12-24 08:48:24,862 INFO namenode.FSNamesystem: supergroup          = supergroup\n2019-12-24 08:48:24,862 INFO namenode.FSNamesystem: isPermissionEnabled = false\n2019-12-24 08:48:24,862 INFO namenode.FSNamesystem: HA Enabled: false\n2019-12-24 08:48:24,925 INFO common.Util: dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling\n2019-12-24 08:48:24,934 INFO blockmanagement.DatanodeManager: dfs.block.invalidate.limit: configured=1000, counted=60, effected=1000\n2019-12-24 08:48:24,937 INFO blockmanagement.DatanodeManager: dfs.namenode.datanode.registration.ip-hostname-check=true\n2019-12-24 08:48:24,942 INFO blockmanagement.BlockManager: dfs.namenode.startup.delay.block.deletion.sec is set to 000:00:00:00.000\n2019-12-24 08:48:24,942 INFO blockmanagement.BlockManager: The block deletion will start around 2019 Dec 24 08:48:24\n2019-12-24 08:48:24,943 INFO util.GSet: Computing capacity for map BlocksMap\n2019-12-24 08:48:24,943 INFO util.GSet: VM type       = 64-bit\n2019-12-24 08:48:24,945 INFO util.GSet: 2.0% max memory 444.5 MB = 8.9 MB\n2019-12-24 08:48:24,945 INFO util.GSet: capacity      = 2^20 = 1048576 entries\n2019-12-24 08:48:24,954 INFO blockmanagement.BlockManager: dfs.block.access.token.enable = false\n2019-12-24 08:48:24,971 INFO Configuration.deprecation: No unit for dfs.namenode.safemode.extension(30000) assuming MILLISECONDS\n2019-12-24 08:48:24,971 INFO blockmanagement.BlockManagerSafeMode: dfs.namenode.safemode.threshold-pct = 0.9990000128746033\n2019-12-24 08:48:24,971 INFO blockmanagement.BlockManagerSafeMode: dfs.namenode.safemode.min.datanodes = 0\n2019-12-24 08:48:24,972 INFO blockmanagement.BlockManagerSafeMode: dfs.namenode.safemode.extension = 30000\n2019-12-24 08:48:24,974 INFO blockmanagement.BlockManager: defaultReplication         = 1\n2019-12-24 08:48:24,974 INFO blockmanagement.BlockManager: maxReplication             = 512\n2019-12-24 08:48:24,974 INFO blockmanagement.BlockManager: minReplication             = 1\n2019-12-24 08:48:24,974 INFO blockmanagement.BlockManager: maxReplicationStreams      = 2\n2019-12-24 08:48:24,974 INFO blockmanagement.BlockManager: redundancyRecheckInterval  = 3000ms\n2019-12-24 08:48:24,974 INFO blockmanagement.BlockManager: encryptDataTransfer        = false\n2019-12-24 08:48:24,974 INFO blockmanagement.BlockManager: maxNumBlocksToLog          = 1000\n2019-12-24 08:48:25,033 INFO namenode.FSDirectory: GLOBAL serial map: bits=24 maxEntries=16777215\n2019-12-24 08:48:25,084 INFO util.GSet: Computing capacity for map INodeMap\n2019-12-24 08:48:25,084 INFO util.GSet: VM type       = 64-bit\n2019-12-24 08:48:25,085 INFO util.GSet: 1.0% max memory 444.5 MB = 4.4 MB\n2019-12-24 08:48:25,085 INFO util.GSet: capacity      = 2^19 = 524288 entries\n2019-12-24 08:48:25,087 INFO namenode.FSDirectory: ACLs enabled? false\n2019-12-24 08:48:25,087 INFO namenode.FSDirectory: POSIX ACL inheritance enabled? true\n2019-12-24 08:48:25,087 INFO namenode.FSDirectory: XAttrs enabled? true\n2019-12-24 08:48:25,087 INFO namenode.NameNode: Caching file names occurring more than 10 times\n2019-12-24 08:48:25,092 INFO snapshot.SnapshotManager: Loaded config captureOpenFiles: false, skipCaptureAccessTimeOnlyChange: false, snapshotDiffAllowSnapRootDescendant: true, maxSnapshotLimit: 65536\n2019-12-24 08:48:25,093 INFO snapshot.SnapshotManager: SkipList is disabled\n2019-12-24 08:48:25,097 INFO util.GSet: Computing capacity for map cachedBlocks\n2019-12-24 08:48:25,097 INFO util.GSet: VM type       = 64-bit\n2019-12-24 08:48:25,097 INFO util.GSet: 0.25% max memory 444.5 MB = 1.1 MB\n2019-12-24 08:48:25,098 INFO util.GSet: capacity      = 2^17 = 131072 entries\n2019-12-24 08:48:25,105 INFO metrics.TopMetrics: NNTop conf: dfs.namenode.top.window.num.buckets = 10\n2019-12-24 08:48:25,105 INFO metrics.TopMetrics: NNTop conf: dfs.namenode.top.num.users = 10\n2019-12-24 08:48:25,105 INFO metrics.TopMetrics: NNTop conf: dfs.namenode.top.windows.minutes = 1,5,25\n2019-12-24 08:48:25,110 INFO namenode.FSNamesystem: Retry cache on namenode is enabled\n2019-12-24 08:48:25,110 INFO namenode.FSNamesystem: Retry cache will use 0.03 of total heap and retry cache entry expiry time is 600000 millis\n2019-12-24 08:48:25,113 INFO util.GSet: Computing capacity for map NameNodeRetryCache\n2019-12-24 08:48:25,113 INFO util.GSet: VM type       = 64-bit\n2019-12-24 08:48:25,113 INFO util.GSet: 0.029999999329447746% max memory 444.5 MB = 136.5 KB\n2019-12-24 08:48:25,113 INFO util.GSet: capacity      = 2^14 = 16384 entries\n2019-12-24 08:48:25,168 INFO namenode.FSImage: Allocated new BlockPoolId: BP-1918231769-192.168.2.10-1577177305161\n2019-12-24 08:48:25,345 INFO common.Storage: Storage directory /usr/local/hadoop/tmp/dfs/name has been successfully formatted.\n2019-12-24 08:48:25,368 INFO namenode.FSImageFormatProtobuf: Saving image file /usr/local/hadoop/tmp/dfs/name/current/fsimage.ckpt_0000000000000000000 using no compression\n2019-12-24 08:48:25,480 INFO namenode.FSImageFormatProtobuf: Image file /usr/local/hadoop/tmp/dfs/name/current/fsimage.ckpt_0000000000000000000 of size 391 bytes saved in 0 seconds .\n2019-12-24 08:48:25,577 INFO namenode.NNStorageRetentionManager: Going to retain 1 images with txid >= 0\n2019-12-24 08:48:25,589 INFO namenode.FSImage: FSImageSaver clean checkpoint: txid = 0 when meet shutdown.\n2019-12-24 08:48:25,589 INFO namenode.NameNode: SHUTDOWN_MSG: \n/************************************************************\nSHUTDOWN_MSG: Shutting down NameNode at hadoop0/192.168.2.10\n************************************************************/\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("最后执行"),o("code",[this._v("sbin/start-all.sh")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("执行"),o("code",[this._v("jps")]),this._v("看到下面的几个进程就成功了")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("[root@hadoop0 hadoop]# jps\n1504 NodeManager\n1094 SecondaryNameNode\n1831 Jps\n873 DataNode\n1353 ResourceManager\n699 NameNode\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("停止的时候执行"),o("code",[this._v("sbin/stop-all.sh")]),o("br"),this._v("\nwindows外访问"),o("code",[this._v("127.0.0.1:50070")]),this._v(","),o("code",[this._v("127.0.0.1:8088")]),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{attrs:{align:"center"}},[o("img",{staticStyle:{height:"250px"},attrs:{src:e(339)}})])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{attrs:{align:"center"}},[o("img",{staticStyle:{height:"450px"},attrs:{src:e(340)}})])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"集群镜像配置"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#集群镜像配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 集群镜像配置")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("[1] 指定nodemanager的地址，修改文件"),o("code",[this._v("yarn-site.xml")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("  <property>\n    <description>The hostname of the RM.</description>\n    <name>yarn.resourcemanager.hostname</name>\n    <value>hadoop0</value>\n  </property>\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("[2] 修改"),o("code",[this._v("/usr/local/hadoop/etc/hadoop/works")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("localhost #不加这个hadoop0就不会被用作DataNode\nhadoop1\nhadoop2\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("停止镜像"),o("code",[this._v("docker stop hadoop0")]),o("br"),this._v("\n提交新镜像"),o("code",[this._v('docker commit -a "ooowl" -m "ConfiguredHadoop" Hadoop0的id centos-hadoop-confd')]),o("br"),this._v(" "),o("code",[this._v("docker images")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("REPOSITORY                 TAG                 IMAGE ID            CREATED             SIZE\ncentos-hadoop-confd        latest              f4d641b36c39        4 minutes ago       2.86GB\ncentos-hadoop              latest              0775d9e8e35f        32 hours ago        2.79GB\ncentos-jdk                 latest              1fb53b406bea        32 hours ago        1.1GB\ncentos-ssh                 latest              636c9d7f103e        32 hours ago        297MB\nmongo                      latest              a0e2e64ac939        5 days ago          364MB\nredis                      latest              dcf9ec9265e0        4 weeks ago         98.2MB\nmysql                      5.7                 1e4405fe1ea9        4 weeks ago         437MB\nnginx                      latest              231d40e811cd        4 weeks ago         126MB\ncentos                     latest              0f3e07c0138f        2 months ago        220MB\ndocker4w/nsenter-dockerd   latest              2f1c802f322f        14 months ago       187kB\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"创建从节点"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#创建从节点","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建从节点")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[o("em",[this._v("命令")]),o("br"),this._v("\nhadoop1")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("docker run -v /C/Users/ooowl/AppData/Local/Packages/CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc/LocalState/rootfs/root/hadoopdata/:/data \n--name hadoop1 --hostname hadoop1 \n--net hadoop --ip 192.168.2.11 -d -P -p 20023:22 -p 50071:50070 -p 8089:8088 -p 9001:9000 \ncentos-hadoop-confd\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("docker run -v /C/Users/ooowl/AppData/Local/Packages/CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc/LocalState/rootfs/root/hadoopdata:/data \n--name hadoop2 --hostname hadoop2 \n--net hadoop --ip 192.168.2.12 -d -P -p 20024:22 -p 50072:50070 -p 8090:8088 -p 9002:9000 \ncentos-hadoop-confd\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"免密登录"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#免密登录","aria-hidden":"true"}},[this._v("#")]),this._v(" 免密登录")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("1 现在我们有了三个处在同一子网下的完全一样的镜像,我们下面要做的是配置ssh和免密登录  "),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("2 "),o("code",[this._v("docker exec -it hadoop0 bin/bash")]),this._v("进入  "),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("3 "),o("code",[this._v("ping 192.168.2.11 -c 4")]),this._v("ping另外两个ip和百度,能通就行了  "),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("4 安装vim和which"),o("code",[this._v("yum install vim which")]),this._v(" "),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("5 编辑"),o("code",[this._v("/etc/ssh/sshd_config")]),this._v(",保证\nRSAAuthentication和PubkeyAuthentication,PermitRootLogin是yes没有就添加,Port 22  "),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("6 "),o("code",[this._v("ssh-keygen -t rsa")]),this._v("一路回车,"),o("code",[this._v("cat ~/.ssh/id_rsa.pub")]),this._v("拿到公钥  "),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("7 在docker镜像外面hadoopdata下创建"),o("code",[this._v("authorized_keys")]),this._v(",添加进去  "),o("br")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("8 在三个镜像重复一遍操作,之后最好能添加宿主机的公钥,不加也行."),o("br"),this._v("\n最后三个镜像中执行"),o("code",[this._v("cp /data/authorized_keys ~/.ssh")]),o("br"),this._v("\n之后测试一下ssh"),o("code",[this._v("ssh root@192.168.2.11 -p22")]),this._v("每个镜像都试试.")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{attrs:{align:"center"}},[o("img",{staticStyle:{height:"400px"},attrs:{src:e(341)}})])},function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("可以在第一个镜像里运行一次"),e("code",[a._v("ssh-keygen -t rsa")]),a._v("添加"),e("code",[a._v("authorized_keys")]),a._v(",这样三个镜像应该也能互通,不行的话再用上面的办法"),e("br"),a._v("\n这一步可以防止livenode数量显示错误")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"启动集群"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#启动集群","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动集群")])},function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("p",[a._v("进入hadoop0"),e("code",[a._v("docker exec -it hadoop0 /bin/bash")]),e("br"),a._v("\n进入"),e("code",[a._v("/usr/local/hadoop/")]),a._v(","),e("code",[a._v("sbin/start-all.sh")]),e("br"),a._v("\n分别在三个容器里运行"),e("code",[a._v("jps")]),a._v("\nhadoop0")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("228 NameNode\n1048 NodeManager\n890 ResourceManager\n378 DataNode\n573 SecondaryNameNode\n1247 Jps\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("164 NodeManager\n309 Jps\n58 DataNode\n")])])])},function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("p",[a._v("就启动成功了,接下来解决UUID的问题"),e("br"),a._v("\n分别删除"),e("code",[a._v("/usr/local/hadoop/tmp/")]),a._v("下的dfs和nm什么,把tmp清空就行了."),e("br"),a._v("\n回到"),e("code",[a._v("cd /usr/local/hadoop")]),a._v(",再次格式化"),e("code",[a._v("bin/hdfs namenode -format")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"验证一下"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#验证一下","aria-hidden":"true"}},[this._v("#")]),this._v(" 验证一下")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("vi a.txt\nhello you\nhello me\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("hdfs dfs -put a.txt /\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("cd /usr/local/hadoop/share/hadoop/mapreduce\nhadoop jar hadoop-mapreduce-examples-3.1.3.jar wordcount /a.txt /out\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("hdfs dfs -text /out/patr-r-00000\n\n2019-12-25 01:45:21,449 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\nhello   2\nme      1\nyou     1   \n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{attrs:{align:"center"}},[o("img",{staticStyle:{height:"400px"},attrs:{src:e(342)}})])},function(){var a=this.$createElement,o=this._self._c||a;return o("h2",{attrs:{id:"出现的问题"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#出现的问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 出现的问题")])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"安全模式"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#安全模式","aria-hidden":"true"}},[this._v("#")]),this._v(" 安全模式")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("获取安全模式的状态:\n\nhdfs dfsadmin -safemode get\n\n安全模式打开\n\nhdfs dfsadmin -safemode enter\n\n安全模式关闭\n\nhdfs dfsadmin -safemode leave\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"文件块丢失"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#文件块丢失","aria-hidden":"true"}},[this._v("#")]),this._v(" 文件块丢失")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"danger custom-block"},[o("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),o("p",[this._v("hdfs在单节点上传之后,在开启多节点之前要把文件删除再重新上传一次,不能直接加节点,块丢失.")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("删除:"),o("code",[this._v("hdfs dfs -rm /a.txt")]),this._v(","),o("code",[this._v("hdfs dfs -rm -r /out")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"内存不足和属性未指定"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#内存不足和属性未指定","aria-hidden":"true"}},[this._v("#")]),this._v(" 内存不足和属性未指定")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("[5] "),o("code",[this._v("vim mapred-site.xml")]),o("br"),this._v("\n在上面已经写进去了")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("    <property>\n        <name>yarn.app.mapreduce.am.env</name>\n        <value>HADOOP_MAPRED_HOME=$HADOOP_HOME</value>\n    </property>\n    <property>\n        <name>mapreduce.map.env</name>\n        <value>HADOOP_MAPRED_HOME=$HADOOP_HOME</value>\n    </property>\n    <property>\n        <name>mapreduce.reduce.env</name>\n        <value>HADOOP_MAPRED_HOME=$HADOOP_HOME</value>\n    </property>\n    <property>\n    <name>mapreduce.map.memory.mb</name>\n    <value>2048</value>\n    </property>\n    <property>\n        <name>mapreduce.map.java.opts</name>\n        <value>-Xmx2048M</value>\n    </property>\n    <property>\n        <name>mapreduce.reduce.memory.mb</name>\n        <value>4096</value>\n    </property>\n    <property>\n        <name>mapreduce.reduce.java.opts</name>\n        <value>-Xmx4096M</value>\n    </property>\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h3",{attrs:{id:"livenodes数量不对"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#livenodes数量不对","aria-hidden":"true"}},[this._v("#")]),this._v(" LiveNodes数量不对")])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("任务正常运行没有任何报错,8088正常三个节点,50070只有一个节点且每次启动节点都会随机变化"),o("br"),this._v("\n根据网上有一个克隆虚拟机的帖子,猜测可能是datanodeuuid的问题.\n三个节点都进入"),o("code",[this._v("/usr/local/hadoop/tmp/dfs/name/current")]),this._v(",然后"),o("code",[this._v("cat VERSION")]),o("br"),this._v("\n发现uuid一样."),o("br"),this._v("\nhadoop0")])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("[root@hadoop0 hadoop]# cd /usr/local/hadoop/tmp/dfs/name/current\n[root@hadoop0 current]# cat VERSION \n#Wed Dec 25 07:12:37 UTC 2019\nnamespaceID=678964001\nclusterID=CID-dc675f9a-7a43-4ee5-bcd1-669e58096734\ncTime=1577257957962\nstorageType=NAME_NODE\nblockpoolID=BP-1966795420-192.168.2.10-1577257957962\nlayoutVersion=-64\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("[root@hadoop1 hadoop]# cd /usr/local/hadoop/tmp/dfs/name/current\n[root@hadoop1 current]# cat VERSION \n#Wed Dec 25 07:12:37 UTC 2019\nnamespaceID=678964001\nclusterID=CID-dc675f9a-7a43-4ee5-bcd1-669e58096734\ncTime=1577257957962\nstorageType=NAME_NODE\nblockpoolID=BP-1966795420-192.168.2.10-1577257957962\nlayoutVersion=-64\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[this._v("[root@hadoop2 sbin]# cd /usr/local/hadoop/tmp/dfs/name/current\n[root@hadoop2 current]# ls\nVERSION                                        edits_inprogress_0000000000000000002  fsimage_0000000000000000000.md5\nedits_0000000000000000001-0000000000000000001  fsimage_0000000000000000000           seen_txid\n[root@hadoop2 current]# cat VERSION \n#Wed Dec 25 07:12:37 UTC 2019\nnamespaceID=678964001\nclusterID=CID-dc675f9a-7a43-4ee5-bcd1-669e58096734\ncTime=1577257957962\nstorageType=NAME_NODE\nblockpoolID=BP-1966795420-192.168.2.10-1577257957962\nlayoutVersion=-64\n")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("p",[this._v("分别删除"),o("code",[this._v("/usr/local/hadoop/tmp/temp")]),this._v("下的dfs和nm什么,把temp清空就行了."),o("br"),this._v("\n回到"),o("code",[this._v("cd /usr/local/hadoop")]),this._v(",再次格式化"),o("code",[this._v("bin/hdfs namenode -format")])])},function(){var a=this.$createElement,o=this._self._c||a;return o("h2",{attrs:{id:"引用参考"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#引用参考","aria-hidden":"true"}},[this._v("#")]),this._v(" 引用参考")])}],r=e(0),t=Object(r.a)({},function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("div",{staticClass:"content"},[a._m(0),a._v(" "),a._m(1),a._v(" "),a._m(2),a._v(" "),a._m(3),a._v(" "),a._m(4),a._m(5),a._v(" "),a._m(6),a._v(" "),e("p",[a._v("三个机器一主两从")]),a._v(" "),a._m(7),a._v(" "),a._m(8),a._v(" "),e("p",[a._v("我用的centos7,jdk-8u231-linux-x64,Apache下载的hadoop-3.1.3")]),a._v(" "),a._m(9),a._v(" "),a._m(10),a._v(" "),a._m(11),e("p",[a._v("搞出这么个目录来")]),a._v(" "),a._m(12),a._m(13),a._v(" "),a._m(14),a._m(15),a._v(" "),e("p",[a._v("2 jdk的Dockerfile")]),a._v(" "),a._m(16),a._m(17),a._v(" "),e("p",[a._v("3 hadoop的Dockerfile")]),a._v(" "),a._m(18),a._m(19),a._v(" "),a._m(20),a._v(" "),a._m(21),a._m(22),a._v(" "),e("p",[a._v("首先我们捋一下思路:我们需要建立三个镜像,并且能够互相访问,有固定的ip这样hadoop可以访问")]),a._v(" "),a._m(23),a._v(" "),a._m(24),a._m(25),a._v(" "),a._m(26),a._v(" "),a._m(27),e("p",[a._v("注意hostname设置好,相当于给本机预设了DNS,能用名称查询到(为了好看我加了换行记得去掉")]),a._v(" "),a._m(28),a._v(" "),e("p",[a._v("这样配置免密登录就完成了,而且暴露了外网20022,其他机器外网也可以连接")]),a._v(" "),a._m(29),a._v(" "),a._m(30),a._v(" "),e("h3",[a._v("修改配置文件")]),a._v(" "),a._m(31),a._v(" "),a._m(32),e("p",[a._v("不添加会报错")]),a._v(" "),a._m(33),a._m(34),a._v(" "),a._m(35),a._m(36),a._v(" "),a._m(37),a._m(38),a._v(" "),a._m(39),a._m(40),a._v(" "),a._m(41),e("p",[a._v("我知道很麻烦但是里面没东西也不用找,复制进去就行了😀")]),a._v(" "),a._m(42),a._v(" "),a._m(43),a._v(" "),a._m(44),a._m(45),a._v(" "),e("details",[e("summary",[e("B",[e("I",{staticStyle:{cursor:"pointer",color:"#0e5870"}},[a._v("点击查看日志")])],1)],1),e("p"),a._v(" "),a._m(46)]),a._v(" "),a._m(47),a._v(" "),a._m(48),a._v(" "),a._m(49),a._m(50),a._m(51),a._v(" "),a._m(52),e("p"),a._v(" "),a._m(53),a._v(" "),a._m(54),a._v(" "),a._m(55),a._m(56),a._v(" "),a._m(57),e("br"),a._v(" "),a._m(58),a._v(" "),a._m(59),a._m(60),a._v(" "),a._m(61),a._v(" "),a._m(62),e("p",[a._v("hadoop2")]),a._v(" "),a._m(63),a._m(64),a._v(" "),a._m(65),a._v(" "),a._m(66),a._v(" "),a._m(67),a._v(" "),a._m(68),a._v(" "),a._m(69),a._v(" "),a._m(70),a._v(" "),a._m(71),a._v(" "),a._m(72),a._v(" "),a._m(73),a._v(" "),a._m(74),a._v(" "),a._m(75),a._v(" "),a._m(76),a._v(" "),a._m(77),e("p",[a._v("hadoop1 hadoop2")]),a._v(" "),a._m(78),a._m(79),a._v(" "),a._m(80),a._v(" "),e("p",[a._v("在50070应该是这样\n8088应该是这样\n在hadoop0的~中跑个wordcount试试")]),a._v(" "),a._m(81),e("p",[a._v("上传a.txt到hdfs上")]),a._v(" "),a._m(82),e("p",[a._v("执行wordcount程序")]),a._v(" "),a._m(83),e("p",[a._v("看看结果")]),a._v(" "),a._m(84),a._m(85),a._v(" "),a._m(86),a._v(" "),a._m(87),a._v(" "),e("p",[a._v("安全模式的相关命令:")]),a._v(" "),a._m(88),a._m(89),a._v(" "),a._m(90),a._v(" "),a._m(91),a._v(" "),a._m(92),a._v(" "),a._m(93),a._v(" "),a._m(94),a._m(95),a._v(" "),a._m(96),a._v(" "),a._m(97),e("p",[a._v("hadoop1")]),a._v(" "),a._m(98),e("p",[a._v("hadoop2")]),a._v(" "),a._m(99),a._m(100),a._v(" "),a._m(101),a._v(" "),e("ul",[e("li",[a._v("https://blog.csdn.net/u011462318/article/details/80439160")]),a._v(" "),e("li",[a._v("https://blog.csdn.net/xu470438000/article/details/50512442\n"),e("Valine")],1)])])},s,!1,null,null,null);o.default=t.exports}}]);