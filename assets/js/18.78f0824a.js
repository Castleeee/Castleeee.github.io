(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{256:function(t,s,a){t.exports=a.p+"assets/img/pachong1.798cabeb.png"},257:function(t,s,a){t.exports=a.p+"assets/img/dbpara.b9e08d7e.png"},417:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("基本知道的爬虫")]),this._v(" "),s("p",[this._v("好多自己看吧")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"爬虫的基本原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#爬虫的基本原理","aria-hidden":"true"}},[this._v("#")]),this._v(" 爬虫的基本原理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求","aria-hidden":"true"}},[this._v("#")]),this._v(" 请求")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请求就是http，把网页的源码下载到本地(内存)进行访问的，经常用的有urlib(太老一般只用到urljoin)，requests，scrapy(框架)，twisted(异步事件驱动)，aiohttp(异步)\n请求一般用get(直接获取资源)post(表单验证)set等后面不常用"),s("br"),this._v("这里会涉及到反爬"),s("br")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("对网站感兴趣,分析网络请求，用scrapy写爬虫爬取数据"),a("br"),t._v("\n监控发现某个时间段访问陡增，ip相同，userag-ent都是python，直接限制访问（不能封ip）")]),t._v(" "),a("li",[t._v("User-agen模拟firefox，获取ip代理"),a("br"),t._v("\n发现ip变化，直接要求登录才能访问")]),t._v(" "),a("li",[t._v("注册账号，每次请求带cookie或者token"),a("br"),t._v("\n健全账号体系，即A只能访问好友的信息")]),t._v(" "),a("li",[t._v("注册多个账号，多个账号联合爬取"),a("br"),t._v("\n请求过于频繁，进一步加剧ip访问频率限制")]),t._v(" "),a("li",[t._v("模仿人请求，限制请求速度"),a("br"),t._v("\n弹出验证码，让识别验证码")]),t._v(" "),a("li",[t._v("通过各种手段识别验证码"),a("br"),t._v("\n增加动态网站，数据通过js动态加载，增加网络分析复杂度，发现大量请求只请求html，不请求image和CSS")]),t._v(" "),a("li",[t._v("通过selenium和phantomjs完全模拟浏览器操作"),a("br"),t._v("\n12成本太高，放弃了！！！！")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#处理","aria-hidden":"true"}},[this._v("#")]),this._v(" 处理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存储","aria-hidden":"true"}},[this._v("#")]),this._v(" 存储")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("拿到这个结构的时候，存到数据库。"),s("br"),this._v("\npymysql(推荐),aiomysql(异步),存为文件(FileIO)scrapy的pipline,推送消息等等\ntwisted+pymysql(手动异步)while+eventloop驱动")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"去重"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#去重","aria-hidden":"true"}},[this._v("#")]),this._v(" 去重")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("将访问过的url保存到数据库中")]),t._v(" "),a("li",[t._v("将访问过的url保存到set中，只需要"),a("em",[t._v("O")]),t._v("(1)的代价就可以查询url极限100000000*2byte*50个字符/1024/1024/1024=9G")]),t._v(" "),a("li",[t._v("url经过md5等方法哈希后保存到set中")]),t._v(" "),a("li",[t._v("用bitmap方法，将访问过的url通过hash函数映射到某一")]),t._v(" "),a("li",[t._v("bloomfilter方法对bitmap进行改进，多重hash函数降低冲突")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("留坑")]),this._v(" "),s("p",[this._v("布隆过滤器")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"请求-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 请求")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"requests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requests","aria-hidden":"true"}},[this._v("#")]),this._v(" requests")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("request的基本使用"),s("br"),this._v("\n返回的是一个\n一般post之前要查看一下正常的post有没有加密，要不要重写，")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("留坑")]),this._v(" "),s("p",[this._v("js断点调试fiddler抓包")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"get-post"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-post","aria-hidden":"true"}},[this._v("#")]),this._v(" get()&post()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("get(url,参数),写图片\n返回的是一个response对象，包含状态码请求成功与否等等")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("    data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zhizhi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    files"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"files"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"baidu.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rb"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    res"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.httpbin.org/get"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#构造一个参数并传进去")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#直接返回字符串")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#直接解析json")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contnet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#返回网页原始内容")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status_code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#请求的状态码")]),t._v("\n    res0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#把网页的编码转换")]),t._v("\n    res1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.baidu.com/img/bd_logo1.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#图片的二进制")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"baidu.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wb"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#写二进制图片")]),t._v("\n        f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("使用header")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Referer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.zhihu.com/signup?next=%2F"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User-Agent"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nres3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.zhihu.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加headers,像某呼这种不加header就不给访问")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("传入文件并使用cookie\n"),s("br"),this._v("data被传入了cookie中可以访问了")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("res4 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.httpbin.org/post"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" files"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构造一个form并传进去")]),t._v("\npprint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("v "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" res4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"4"}},[s("li",[this._v("session维持会话，一般session会很久")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#维持会话")]),t._v("\ns"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.httpbin.org/cookies/set/abc/svsvdhasb"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("verify"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 不进行证书验证，可使用cert=("path/server.crt","path/ket")进行证书验证')]),t._v("\nres5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.httpbin.org/cookies"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"5"}},[s("li",[this._v("使用ip代理\n常用的代理有西刺也可以自己买")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("proxies"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1:9900"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用代理")]),t._v("\nres6"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.httpbin.org/get"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("proxies"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("proxies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"selenium"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#selenium","aria-hidden":"true"}},[this._v("#")]),this._v(" selenium")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("selenium浏览器驱动。"),s("br"),this._v("当某些网页动态加载js的时候(淘宝)我们需要程序去执行js，(效率自然会低一些)这就是selenium的作用\nphantomjs(无界面浏览器)也行但是在多进程的情况下性能下降严重。\n"),s("br"),this._v("\n使用之前先下载一个driver"),s("a",{attrs:{href:"https://npm.taobao.org/mirrors/chromedriver/2.34/"}},[this._v("淘宝镜像")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" selenium "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" webdriver\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.baidu.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#打开")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("broswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("page_source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拿到F12的代码(经过渲染的)")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maximize_window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#最大化窗口")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_window_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置窗口大小")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("back"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#后退一步")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("forward"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#前进一步")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("refresh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#刷新")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("broswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拿到浏览器的标题")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("broswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拿到url")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拿到cookie")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("delete_all_cookies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#删除所有的cookie")]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#增加cookie")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("可用的驱动")]),t._v(" "),a("p",[t._v("webdriver.Firefox"),a("br"),t._v("\nwebdriver.FirefoxProfile"),a("br"),t._v("\nwebdriver.Chrome"),a("br"),t._v("\nwebdriver.ChromeOptions"),a("br"),t._v("\nwebdriver.Ie"),a("br"),t._v("\nwebdriver.Opera"),a("br"),t._v("\nwebdriver.PhantomJS"),a("br"),t._v("\nwebdriver.Remote"),a("br"),t._v("\nwebdriver.DesiredCapabilities"),a("br"),t._v("\nwebdriver.ActionChains"),a("br"),t._v("\nwebdriver.TouchActions"),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"查找元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查找元素","aria-hidden":"true"}},[this._v("#")]),this._v(" 查找元素")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("不建议使用自带的，因为会拖慢速度，性能会变差。"),s("br"),this._v("\n可以用其他的包lxml bs等代替，不过有时候不能代替")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("broswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("id定位：find_element_by_id()")]),t._v(" "),a("li",[t._v("name定位：find_element_by_name()")]),t._v(" "),a("li",[t._v("class定位：find_element_by_class()")]),t._v(" "),a("li",[t._v("tag定位：find_element_by_tag_name()")]),t._v(" "),a("li",[t._v("link定位：find_element_by_link_text()")]),t._v(" "),a("li",[t._v("partial link 定位： find_element_by_partial_link_text()")]),t._v(" "),a("li",[t._v("Xpath定位:"),a("br"),t._v(" "),a("ul",[a("li",[t._v('绝对路径：find_element_by_xpath("绝对路径")')]),t._v(" "),a("li",[t._v("元素属性：find_element_by_xpath(\"//unput[@id='kw']\")")]),t._v(" "),a("li",[t._v("层级与属性结合：find_element_by_xpath(\"//form[@id='loginForm']/ul/input[1]\")")]),t._v(" "),a("li",[t._v("逻辑运算符：find_element_by_xpath(\"//input[@id='kw' and@class='s_ipt']\")")])])]),t._v(" "),a("li",[t._v("CSS定位：find_element_by_css_selector()")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"通过selenium模拟登陆微博"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过selenium模拟登陆微博","aria-hidden":"true"}},[this._v("#")]),this._v(" 通过selenium模拟登陆微博")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("失败了 留坑")]),this._v(" "),s("p",[this._v("后面再试，填值的时候填不上")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("ele0"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("broswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nele"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("broswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element_by_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"kw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nele"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_keys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('u"qwe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#模拟按键输入：")]),t._v("\nele"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clear"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#清除文本：")]),t._v("\nele"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_keys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('u"abc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#模拟按键输入：")]),t._v("\nele1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("broswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element_by_class_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bg s_btn"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nele1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#单击元素")]),t._v("\nele1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("submit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#提交表单（相当于"回车"）')]),t._v("\nbroswer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute_script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alert(\"123\");'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#执行js")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" selenium "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" webdriver\n\nchrome_options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" webdriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ChromeOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nprefs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"profile.managed_default_content_settings.images"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nchrome_options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_experimental_option"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prefs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("prefs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ndriver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" webdriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Chrome"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chrome_options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chrome_options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"aiohttp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aiohttp","aria-hidden":"true"}},[this._v("#")]),this._v(" aiohttp")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("留坑")]),this._v(" "),s("p",[this._v("异步等过一两天再整理")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"处理-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#处理-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 处理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"beautifulsoup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beautifulsoup","aria-hidden":"true"}},[this._v("#")]),this._v(" BeautifulSoup")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对dom进行解析"),s("br"),this._v("\nfrom bs4 import BeautifulSoup as BS "),s("br"),this._v("\ndom例子")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('      <li id="note-36396362" data-note-id="36396362" class="have-img">\n          <a class="wrap-img" href="www.baidu.com" target="_blank">\n            <img class="  img-blur-done" src="//upload-images.jianshu.io/upload_images/12240181-bb9399878eae6ddd?imageMogr2/auto-orient/strip|imageView2/1/w/360/h/240" alt="120">\n          </a>\n        <div class="content">\n          <a class="title" target="_blank" href="www.baidu.com">罗永浩最爱的“软件”下凡了！ 让你体验高效记录的感觉</a>\n          <p class="abstract">\n            听说锤子又发布了新产品！ 锤子科技不是一个卖手机的好公司，却是一个搞软件的领头军，旗下的闪念胶囊和BigBang一直被赞扬，网友戏称： 锤子有三...\n          </p>\n          <div class="meta">\n            <a class="nickname" target="_blank" href="/u/00385c37e5de">Tools指南</a>\n              <a target="_blank" href="www.baidu.com#comments">\n                <i class="iconfont ic-list-comments"></i> 3\n      </a>      <span><i class="iconfont ic-list-like"></i> 46</span>\n          </div>\n        </div>\n      </li>\n')])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" bs4 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BeautifulSoup "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" BS\nsoup"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("BS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lxml'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#生成了一个soup对象使用unicode编码")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("注意指定编码")]),this._v(" "),s("p",[this._v("默认lxml"),s("br"),this._v('\nBeautifulSoup(markup, "lxml")速度快'),s("br"),this._v('\nBeautifulSoup(markup, "html.parser")系统自带'),s("br"),this._v('\nBeautifulSoup(markup, "xml")唯一支持xml'),s("br"),this._v('\nBeautifulSoup(markup, "html5lib")生成h5浏览器方式解析')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("tag.name标签名称可嵌套soup.head.tittle"),s("br"),this._v("\ntag.attributes标签后面的属性,可添加或者修改,和字典一样"),s("br"),this._v("\n多值属性,class最多,每个tag可能用多个css"),s("br"),this._v("\n其他的rel , rev , accept-charset , headers , accesskey返回一个list非多值属性会返回str"),s("br"),this._v("\n将tag转换为str的时候多值属性会自动合为由空格隔开的字符串,xml没有多值")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("soup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("soup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attrs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获取名字和属性")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("soup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获取了class为meta的第一个元素")]),t._v("\nsoup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_all_next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获这也元素的下一个邻居")]),t._v("\nsoup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列表获取所有meta的元素")]),t._v("\ntag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获得父节点beautifulsoup父节点为None")]),t._v("\ntag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("descendants"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#子孙节点的递归迭代对象")]),t._v("\ntag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chlidren"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#是包含子节点对象对象对象的可迭代对象")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("方法")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("返回")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("find")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, attrs, recursive, text,.… Tag")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("find_all")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, attrs, recursive, te.. Tag")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("2")])]),t._v(" "),a("tr",[a("td",[t._v("find_all_previous")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, att.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("3")])]),t._v(" "),a("tr",[a("td",[t._v("find_next")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, attrs, text.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("4")])]),t._v(" "),a("tr",[a("td",[t._v("find_next_sibling")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, att.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("5")])]),t._v(" "),a("tr",[a("td",[t._v("find_next_siblings")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, at.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("6")])]),t._v(" "),a("tr",[a("td",[t._v("find_parent")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, attrs, kw.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("7")])]),t._v(" "),a("tr",[a("td",[t._v("find_parents")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, attrs,1.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("8")])]),t._v(" "),a("tr",[a("td",[t._v("find_previous")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name, attrs,.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("9")])]),t._v(" "),a("tr",[a("td",[t._v("find_previous_sibling")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name,.… PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("10")])]),t._v(" "),a("tr",[a("td",[t._v("find previous siblings")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(self, name.. PageElement")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("11")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("注意顿号以及换行也算节点"),s("br"),this._v("\nclass_用来标识css可以部分匹配也可全匹配,全匹配的时候注意顺序若不一样无法匹配")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("soup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获取了class为meta的第一个元素")]),t._v("\nsoup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_all_next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获这也元素的下一个邻居")]),t._v("\nsoup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsoup1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("soup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abstract"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#获取标签为p，class="abstract"的元素')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("soup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#没有子节点的情况下得到字符串")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("soup1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strings"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#得到多个字符串 列表")]),t._v("\nsoup1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("soup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("class_"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("soup1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#节点的元素，是个列表")]),t._v("\nsoup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#返回所有的及其孩子的文本")]),t._v("\nsoup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prettify"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#自动对齐补全html")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"pyquery"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pyquery","aria-hidden":"true"}},[this._v("#")]),this._v(" pyQuery")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("形式")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v(".class")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v(".color")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v('选择class="color”的所有元素')])]),t._v(" "),a("tr",[a("td",[t._v("#id")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("#info")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v('选择id="info”的所有元素')])]),t._v(" "),a("tr",[a("td",[t._v("*")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("*")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择所有元素")])]),t._v(" "),a("tr",[a("td",[t._v("element")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("p")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择所有的p元素")])]),t._v(" "),a("tr",[a("td",[t._v("element,element")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("div,pe")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择所有div元素和所有p元素")])]),t._v(" "),a("tr",[a("td",[t._v("elemente lement")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("div pe")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择所有div元素内所有p元素")])]),t._v(" "),a("tr",[a("td",[t._v("[attribute]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("[target]")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择带有targe属性的所有元素。")])]),t._v(" "),a("tr",[a("td",[t._v("[arrtibute=value]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("[target=_blank]")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v('选择 target="_blank”的所有元素')])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以使用伪类"),s("br"),this._v("\n可调用的函数"),s("br")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("pq.find()#发现标签")]),t._v(" "),a("li",[t._v("pq.parent()#发现标签的父标签")]),t._v(" "),a("li",[t._v("pq.parents()#递归发现父标签")]),t._v(" "),a("li",[t._v("pq.children()#发现子标签")]),t._v(" "),a("li",[t._v("pq.text()#获取所有文本,忽略标签")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("pq本身是具有标签的字符串\npq.html()不含本身的标签")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("程序如下"),s("br")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[t._v("使用上面的dom\nx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("pq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'li a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"target"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"_blank"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<a class="wrap-img" href="www.baidu.com" target="_blank">\n      <img class="  img-blur-done" src="//upload-images.jianshu.io/upload_images/12240181-bb9399878eae6ddd?imageMogr2/auto-orient/strip|imageView2/1/w/360/h/240" alt="120"/>\n    </a>\n  <a class="title" target="_blank" href="www.baidu.com">罗永浩最爱的“软件”下凡了！ 让你体验高效记录的感觉</a>\n    <a class="nickname" target="_blank" href="/u/00385c37e5de">Tools指南</a>\n        <a target="_blank" href="www.baidu.com#comments">\n          <i class="iconfont ic-list-comments"/> 3\n</a>\n_blank\n 罗永浩最爱的“软件”下凡了！ 让你体验高效记录的感觉 Tools指南 3\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"xpath-cssselector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xpath-cssselector","aria-hidden":"true"}},[this._v("#")]),this._v(" Xpath&CssSelector")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a(256)}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("形式")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("article")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有article元素的所有子节点")])]),t._v(" "),a("tr",[a("td",[t._v("/article")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取根元素article")])]),t._v(" "),a("tr",[a("td",[t._v("article/a")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有属于article的子元素的a元素")])]),t._v(" "),a("tr",[a("td",[t._v("//div")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有div子元素（不论出现在文档任何地方）")])]),t._v(" "),a("tr",[a("td",[t._v("article//div")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有属于article元素的后代的div元素，不管它出现在article之下的任何位置")])]),t._v(" "),a("tr",[a("td",[t._v("//@class")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选区这个标签下所有名为class的属性")])]),t._v(" "),a("tr",[a("td",[t._v('/a[@href="link2.html"]')]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v('选取所有href为"link2.html"的a标签')])]),t._v(" "),a("tr",[a("td",[t._v("@href")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("拿到href标签")])]),t._v(" "),a("tr",[a("td",[t._v("?/text()")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("?元素下的文本")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("形式")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("*")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择所有节点")])]),t._v(" "),a("tr",[a("td",[t._v("#container")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择id为container的节点")])]),t._v(" "),a("tr",[a("td",[t._v(".container")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有class包含container的节点")])]),t._v(" "),a("tr",[a("td",[t._v("li a")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有i下的所有a节点")])]),t._v(" "),a("tr",[a("td",[t._v("ul+p")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择l后面的第一个p元素")])]),t._v(" "),a("tr",[a("td",[t._v("div#container>ul")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取id为container的div的第一个ul子元素")])]),t._v(" "),a("tr",[a("td",[t._v("ul~p")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取与ul相邻的所有p元素")])]),t._v(" "),a("tr",[a("td",[t._v("a[title]")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有有title属性的a元素")])]),t._v(" "),a("tr",[a("td",[t._v('a[href="http:/jobbole.com"]')]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有href属性为jobbole.com值的a元素")])]),t._v(" "),a("tr",[a("td",[t._v('a[href*="jobole"]')]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有href属性包含jobbole的a元素")])]),t._v(" "),a("tr",[a("td",[t._v('a[href^="http"]')]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有href属性值以http开头的a元素")])]),t._v(" "),a("tr",[a("td",[t._v('a[href$=".jpg”]')]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有href属性值以.jpg结尾的a元素")])]),t._v(" "),a("tr",[a("td",[t._v("input[type=radio]:checked")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选择选中的radio的元素")])]),t._v(" "),a("tr",[a("td",[t._v("div:not(#container)")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取所有id非container的div属性")])]),t._v(" "),a("tr",[a("td",[t._v("li:nth-child(3)")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("选取第三个i元素")])]),t._v(" "),a("tr",[a("td",[t._v("tr:nth-child(2n)")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("第偶数个tr")])]),t._v(" "),a("tr",[a("td",[t._v("a::text")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("拿到标签的文本")])]),t._v(" "),a("tr",[a("td",[t._v("a::attr(href)")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("拿到标签href属性")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" lxml "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" etree\nhtml"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("etree"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HTML"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#初始化，也可初始化本地网页etree.parse('test.html')")]),t._v("\nresult "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" etree"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tostring"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#放入lxml中")]),t._v("\nresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#对这个html进行编码")]),t._v("\n\nx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'//div[@class=\"content\"]/text()'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ny"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssselect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#note-36396362 > div >.title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拿到所有class为title的元素")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#是个列表")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attrib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'href'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),s("p",[this._v("空格和换行符也算一个文本，看结果")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v("['\\n  听说锤子又发布了新产品！ 锤子科技不是一个卖手机的好公司，\n却是一个搞软件的领头军，旗下的闪念胶囊和BigBang一直被赞扬，网友戏称：\n锤子有三...\\n    ', '\\n    ', '\\n    ', '\\n  ']\n罗永浩最爱的“软件”下凡了！ 让你体验高效记录的感觉 \nwww.baidu.com\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"存储-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存储-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 存储")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"pymysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pymysql","aria-hidden":"true"}},[this._v("#")]),this._v(" pymysql")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[n("p",[t._v("创建连接\n参数如下\n")]),n("div",{attrs:{align:"center"}},[n("img",{attrs:{src:a(257)}})]),n("p")]),t._v(" "),n("li",[n("p",[t._v("创建游标"),n("br"),t._v("\n可选择字典形式"),n("br")])]),t._v(" "),n("li",[n("p",[t._v("构造sql语句"),n("br"),t._v("\n善用str.format"),n("br")])]),t._v(" "),n("li",[n("p",[t._v("执行sql"),n("br"),t._v("\n注意错误回滚"),n("br")])]),t._v(" "),n("li",[n("p",[t._v("拿回结果"),n("br"),t._v("\n注意指针的位置"),n("br")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pymysql\n\nconn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("pymysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    password"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'不给看！！！'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    database"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aiosql'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    charset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8mb4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncur"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cursor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("pymysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cursors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DictCursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用DictCursor返回不再是元组是一个代映射的字典")]),t._v("\nsql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select * from aio'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    reslen"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#执行sql语句")]),t._v("\n    conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#注意要提交")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#发生错误")]),t._v("\n    conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rollback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#回滚")]),t._v("\n    cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#关闭")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#行为单位移动")]),t._v("\ncur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#光标详情描述")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastrowid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#光标")]),t._v("\ncur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scroll"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'absolute'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#指针指向第二条")]),t._v("\ncur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scroll"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'relative'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#指针相对向后移动两条")]),t._v("\none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#结果的一条光标后移1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchmany"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拿出三条后移3")]),t._v("\nmany"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchall"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拿出三条，移到底")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("one"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("many"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("有坑")]),this._v(" "),s("p",[this._v("插入数据库要保证健壮性，特殊字符提前处理比如去掉单引号，反斜杠，编码字符等"),s("br"),this._v("\n四字节字符入库时\\xF0\\x9F\\x99\\x8F像这样 "),s("br"),this._v("\n首先修改 my.ini 编码集为utf8mb4 数据库和表改为utf8mb4"),s("br"),this._v("\n还不行的话删库重新新建选择字符集utf8mb4"),s("br"),this._v("\n连接数据库的时候改为utf8mb4重启mysqld服务")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"pymongo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pymongo","aria-hidden":"true"}},[this._v("#")]),this._v(" PyMongo")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("em",[this._v("pip install pymongo")])]),s("br"),this._v("\nmongo的操作看"),s("a",{attrs:{href:"/blog/back/数据相关.html#mongodb"}},[this._v("这里")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("简写(默认连接本地)"),a("br"),t._v("\nclient=MongoClient()"),a("br"),t._v("\n指定端囗和地址"),a("br"),t._v("\nclient=MongoClient(localhost，27017)"),a("br"),t._v("\n使用URI "),a("br"),t._v('\nclient=MongoClient(mongodb://localhost：27017/")'),a("br"),t._v("\nclient.PORT,client.HOST,client.list_database_names()"),a("br"),t._v("\ndb=client.mydb # 使用mydb，没有就自动创建"),a("br"),t._v("\nmyset=db.my_set"),a("br")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("关闭")]),this._v(" "),s("p",[this._v("关闭数据库的时候调用client.close()之后仍然能使用属性，比如在打印一次也能打印出来，yinweimongo默认有个连接池，只要没满随时都能连")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("插入"),a("br"),t._v(" "),a("strong",[a("em",[t._v('my_set.insert([{"name":"zhangsan","age":18},{"name":"lilin","age":18}])')])]),a("br"),t._v(" "),a("strong",[a("em",[t._v('my_set.save({"name":"zhangsan","age":18})')])]),a("br"),t._v("\nsave的时候他会遍历，但是insert不会，所以insert快一些"),a("br")]),t._v(" "),a("li",[t._v("查询这个集合所有的数据(需要用for遍历)\n"),a("strong",[a("em",[t._v("my_set.find()")])]),a("br")]),t._v(" "),a("li",[t._v("查找名字为zhangsan的数据(需要用for遍历)"),a("br"),t._v(" "),a("strong",[a("em",[t._v('my_set.find({"name":"zhangsan"})')])]),a("br")]),t._v(" "),a("li",[t._v("取出这条记录的'id'依此类推可以往后取"),a("br"),t._v(" "),a("strong",[a("em",[t._v('id=my_set.find({"name":"zhangsan"})[\'id\']')])]),a("br")]),t._v(" "),a("li",[t._v("移除这个记录的id"),a("br"),t._v(" "),a("strong",[a("em",[t._v("my_set.remove(id)")])]),a("br")]),t._v(" "),a("li",[t._v("把name为zhangsan的age改为20"),a("br"),t._v(" "),a("strong",[a("em",[t._v('my_set.update({"name":"zhangsan"},{\'$set\':{"age":20}})')])]),a("br")]),t._v(" "),a("li",[t._v("移除张三这个数据的全部记录"),a("br"),t._v(" "),a("strong",[a("em",[t._v("my_set.remove({'name': 'zhangsan'})")])]),a("br")]),t._v(" "),a("li",[t._v("删掉这个库"),a("br"),t._v(" "),a("strong",[a("em",[t._v("db.remove()")])]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("查询符\n"),a("ul",[a("li",[t._v(">  大于 - $gt")]),t._v(" "),a("li",[t._v("<  小于 - $lt")]),t._v(" "),a("li",[t._v(">=  大于等于 - $gte")]),t._v(" "),a("li",[t._v("<=  小于等于 - $lte")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("age大于25的记录\n"),s("strong",[s("em",[this._v('my_set.find({"age":{"$gt":25}})')])]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("类型判断"),s("br"),this._v("\n发现字符串类型的name"),s("br"),this._v(" "),s("strong",[s("em",[this._v("my_set.find({'name':{'$type':2}})")])]),s("br"),this._v(" "),s("div",{attrs:{align:"center"}},[this._v("类型对照表"),s("br")]),s("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("码")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Double")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 1")])]),t._v(" "),a("tr",[a("td",[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 2")])]),t._v(" "),a("tr",[a("td",[t._v("Object")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 3")])]),t._v(" "),a("tr",[a("td",[t._v("Array")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 4")])]),t._v(" "),a("tr",[a("td",[t._v("Binary data")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 5")])]),t._v(" "),a("tr",[a("td",[t._v("Boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 8")])]),t._v(" "),a("tr",[a("td",[t._v("Date")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 9")])]),t._v(" "),a("tr",[a("td",[t._v("Null")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 10")])]),t._v(" "),a("tr",[a("td",[t._v("Regular Expression")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 11")])]),t._v(" "),a("tr",[a("td",[t._v("JavaScript")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 13")])]),t._v(" "),a("tr",[a("td",[t._v("Symbol")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 14")])]),t._v(" "),a("tr",[a("td",[t._v("JavaScript (with scope)")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 15")])]),t._v(" "),a("tr",[a("td",[t._v("32-bit integer")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 16")])]),t._v(" "),a("tr",[a("td",[t._v("Timestamp")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 17")])]),t._v(" "),a("tr",[a("td",[t._v("64-bit integer")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 18")])]),t._v(" "),a("tr",[a("td",[t._v("Min key")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 255")])]),t._v(" "),a("tr",[a("td",[t._v("Max key")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("类型代码 127")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("条件查询")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[t._v("排序"),a("br"),t._v("\nage升序查询"),a("br"),t._v(" "),a("strong",[a("em",[t._v('my_set.find().sort([("age",1)])')])]),a("br")])]),t._v(" "),a("li",[a("p",[t._v("读取\n跳过两条之后读六条"),a("br"),t._v(" "),a("strong",[a("em",[t._v("my_set.find().skip(2).limit(6)")])]),a("br")])]),t._v(" "),a("li",[a("p",[t._v("in"),a("br"),t._v("\n发现年龄（20，30，53）中的数据"),a("br")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("em",[this._v('my_set.find({"age":{"$in":(20,30,35)}})')])]),s("br")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("or"),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("发现age是20或35的数据\n"),s("br")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("em",[this._v('my_set.find({"$or":[{"age":20},{"age":35}]})')])]),s("br")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("all"),s("br"),this._v("\n查询序列的包含"),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v('dic = {"name":"xiahong","age":18,"li":[1,2,3]}'),s("br"),this._v('\ndic2 = {"name":"xiaoming","age":18,"li":[1,2,3,4,5,6]}'),s("br")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("em",[this._v("my_set.find({'li':{'$all':[1,2,3,4]}})")])]),s("br"),this._v("\n结果只会出现dic2")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("push[ALL]\n更改序列"),a("br"),t._v("\n单个值: my_set.update({'name':\"xiaohong\"}, {'$push':{'li':[4]}})"),a("br"),t._v("\n多个追加: my_set.update({'name':\"xiaohong\"}, {'$pushAll':{'li':[4,5]}})"),a("br"),t._v('\ndic = {"name":"xiahong","age":18,"li":[1,2,3,4,4,5]}')]),t._v(" "),a("li",[t._v("pop/pullAll\n单个值: my_set.update({'name':\"xiaohong\"}, {'$pop':{'li':[4]}})"),a("br"),t._v("\n去除多个: my_set.update({'name':\"xiaohong\"}, {'$pullAll':{'li':[4,5]}})"),a("br"),t._v('\ndic = {"name":"xiahong","age":18,"li":[1,2,3]}')]),t._v(" "),a("li",[t._v("多级目录操作"),a("br"),t._v("\n取的时候用.连接，结果用['字典调用']方式连接"),a("br"),t._v("\n查找a属性的b属性的c属性值为5的数据"),a("br"),t._v(" "),a("strong",[a("em",[t._v("my_set.find(a.b.c:5)")])]),a("br"),t._v("\n拿到结果的a属性的b属性的c属性值"),a("br"),t._v(" "),a("strong",[a("em",[t._v("res['a']['b']['c']")])]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),s("p",[this._v("update,$set等也是这么寻找")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis","aria-hidden":"true"}},[this._v("#")]),this._v(" redis")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"aiomysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aiomysql","aria-hidden":"true"}},[this._v("#")]),this._v(" aiomysql")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("依赖"),s("br")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Python3.5+")]),this._v(" "),s("li",[this._v("asyncio")]),this._v(" "),s("li",[this._v("PyMySQL"),s("br"),this._v("\neventloop+while True模式进行插入异步进行")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" asyncio\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" aiomysql "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" create_pool\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" aiohttp\n\nloop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("asyncio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_event_loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" create_pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("password"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1118'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aiosql'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("charset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8mb4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("loop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("acquire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获得pool")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#创建游标")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#异步运行了一百次这个sql语句")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select * from aio limit 1;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nloop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run_until_complete"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("go"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    pool"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" create_pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("password"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1118'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aiosql'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("charset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8mb4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("loop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("acquire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select * from aio limit 1;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" cur"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wait_closed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nloop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("asyncio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_event_loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nloop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run_until_complete"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"scrapy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scrapy","aria-hidden":"true"}},[this._v("#")]),this._v(" Scrapy")])}],e=a(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("基本就是三部分")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("BS4,pyQuery,lxml等解析DOM和文件涉及到寻找属性定位xpath,seletor,css定位\n最后产生一个自己想要的数据结构")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("爬虫去重策略")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),a("h4",[t._v(" 往元素中填值并登陆")]),t._v(" "),t._m(36),a("p",[t._v("加载的时候不加载图片(节省性能)，如下设置")]),t._v(" "),t._m(37),t._m(38),t._v(" "),a("p",[t._v("异步请求的http库")]),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),a("p",[t._v("数据处理就是把DOM的元素内容拿出来")]),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._m(48),t._v(" "),a("p",[t._v("这是节点的一些属性，可以获取内容")]),t._v(" "),t._m(49),t._v(" "),t._m(50),t._m(51),t._v(" "),a("p",[t._v("pip安装pyQuery")]),t._v(" "),a("h3",[t._v("打开")]),t._v(" "),a("p",[t._v('pq=PyQuery("http://www.baidu.com")#也可以直接打开文件pq=PyQuery("aa.html")')]),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),a("p",[t._v("结果")]),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),a("p",[t._v("利用这些语法定位dom的元素\nF12开发者模式，直接复制注意js渲染会扰乱xpath和css")]),t._v(" "),t._m(60),t._v(" "),a("h3",[t._v("Xpath")]),t._v(" "),t._m(61),t._v(" "),a("h3",[t._v("css选择器")]),t._v(" "),t._m(62),t._v(" "),t._m(63),t._m(64),t._v(" "),a("p",[t._v("结果")]),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72),a("h4",[t._v("连接")]),a("p"),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),a("h4",[t._v("增删改查")]),t._v(" "),t._m(75),t._v(" "),a("h4",[t._v("操作和查询符")]),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),t._m(91),t._v(" "),a("h4",[t._v("pip install redis")]),a("br"),t._v(" "),a("h4",[t._v("连接")]),t._v(" "),a("h4",[t._v("连接")]),t._v(" "),a("h4",[t._v("连接")]),t._v(" "),a("h4",[t._v("连接")]),t._v(" "),a("h4",[t._v("连接")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),t._v(" "),t._m(95),a("p",[t._v("通过连接池来连接")]),t._v(" "),t._m(96),t._m(97),t._v(" "),a("p",[t._v("看"),a("a",{attrs:{href:"/blog/back/python/scrapy%E7%9B%B8%E5%85%B3.html"}},[t._v("这里")]),t._v("或者下一篇\n"),a("Valine")],1)])},n,!1,null,null,null);s.default=r.exports}}]);